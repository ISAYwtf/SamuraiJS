(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{296:function(e,t,o){"use strict";o.d(t,"c",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return a}));var n=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){return t.reduce((function(t,o){return t||o(e)}),void 0)}}},297:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var n=o(3),r=o(98),a=o(100),i=o(99),c=o(1),s=o(0),l=o.n(s),u=o(11),j=o(16),b=o(70),f=function(e){return{isAuth:Object(b.d)(e)}},p=function(e){var t=function(t){Object(a.a)(s,t);var o=Object(i.a)(s);function s(){var t;Object(r.a)(this,s);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(t=o.call.apply(o,[this].concat(i))).render=function(){return t.props.isAuth?Object(c.jsx)(e,Object(n.a)({},t.props)):Object(c.jsx)(u.a,{to:"/login"})},t}return s}(l.a.Component);return Object(j.b)(f)(t)}},298:function(e,t,o){e.exports={profileJob:"ProfileJob_profileJob__3F2Ok"}},304:function(e,t,o){e.exports={profileUser:"ProfileInfo_profileUser__23b78"}},305:function(e,t,o){e.exports={profileContacts:"ProfileContacts_profileContacts__2iIrN",contactsSocial:"ProfileContacts_contactsSocial__1rvOI"}},306:function(e,t,o){e.exports={profileMainInfo:"ProfileMainInfo_profileMainInfo__3NzMv",profileAvatar:"ProfileMainInfo_profileAvatar__MMbga",profileStatus:"ProfileMainInfo_profileStatus__1IAb6",profileId:"ProfileMainInfo_profileId__2f4OG",profileName:"ProfileMainInfo_profileName__1YqG0",profileDesc:"ProfileMainInfo_profileDesc__2naDA",selectImgBtn:"ProfileMainInfo_selectImgBtn__2G56V",button:"ProfileMainInfo_button__hg8hs"}},307:function(e,t,o){e.exports={profileImageWrap:"ProfileAvatar_profileImageWrap__1mmfB",profileImage:"ProfileAvatar_profileImage__et5X_",imgName:"ProfileAvatar_imgName__1boYZ"}},308:function(e,t,o){e.exports={post:"Post_post__Yp48r"}},309:function(e,t,o){e.exports={inputWrap:"Posts_inputWrap__2apF8",textarea:"Posts_textarea__2X9bt"}},310:function(e,t,o){e.exports={form:"ProfileDataForm_form__1-8Jo",contactItem:"ProfileDataForm_contactItem__2npvs",contactItemTitle:"ProfileDataForm_contactItemTitle__1rNjO",lookingForAJob:"ProfileDataForm_lookingForAJob__Cirab",lookingForAJobCheckbox:"ProfileDataForm_lookingForAJobCheckbox__1EP9E"}},311:function(e,t,o){e.exports={buttonEditMode:"Profile_buttonEditMode__Crpt-"}},315:function(e,t,o){"use strict";o.r(t);var n=o(3),r=o(8),a=o.n(r),i=o(14),c=o(1),s=o(0),l=o.n(s),u=o(88),j=o(295),b=o(304),f=o.n(b),p=o(305),d=o.n(p),h=function(e){var t=e.contacts,o=(Object(j.a)(e,["contacts"]),[]);for(var n in t)t[n]&&o.push(Object(c.jsx)("a",{href:"".concat(t[n]),children:n}));return o.length>0?Object(c.jsxs)("div",{className:d.a.profileContacts,children:[Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)("div",{className:d.a.contactsSocial,children:o})]}):""},O=o(298),m=o.n(O),x=function(e){var t=e.lookingForAJob,o=e.lookingForAJobDescription;Object(j.a)(e,["lookingForAJob","lookingForAJobDescription"]);return Object(c.jsxs)("div",{className:m.a.profileJob,children:[Object(c.jsx)("h2",{children:"Search for a job"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:t?"Looking for a job.":"Not looking for a job."}),o]})]})},g=o(306),v=o.n(g),_=o(10),P=o(16),I=o(97),N=o(300),k=o(96),F=function(e){return Object(c.jsx)(N.b,{initialValues:e.initialValues,onSubmit:e.deactivateEditMode,children:function(e){var t=e.handleSubmit,o=t,n={autoFocus:!0,onBlur:function(e){return o(e)}};return Object(c.jsx)("form",{onSubmit:t,children:Object(c.jsx)(N.a,{component:k.a,name:"status",attr:n,type:"text"})})}})},A=function(e){var t=!e.match.params.userId,o=Object(s.useState)(!1),n=Object(u.a)(o,2),r=n[0],a=n[1];return Object(c.jsx)("div",{children:r?Object(c.jsx)(F,{initialValues:{status:e.status},deactivateEditMode:function(t){a(!1),e.updateStatus(t.status)}}):t?Object(c.jsx)("div",{children:Object(c.jsx)("span",{onDoubleClick:function(){t&&a(!0)},children:e.status})}):Object(c.jsx)("div",{children:Object(c.jsx)("span",{children:e.status})})})},M=o(11),J=function(e){return e.profilePage},S=function(e){return e.profilePage.profile},C=function(e){return e.profilePage.isFetching},w=function(e){return e.profilePage.status},y={updateStatus:I.h},D=Object(_.d)(Object(P.b)((function(e){return{status:w(e)}}),y),M.g)(A),E=o(307),U=o.n(E),V=function(e){var t,o=e.photos,n=e.fullName;return t=o.large?Object(c.jsx)("img",{className:U.a.profileImage,src:o.large,alt:"avatar"}):o.small?Object(c.jsx)("img",{className:U.a.profileImage,src:o.small,alt:"avatar"}):Object(c.jsx)("span",{className:U.a.imgName,children:n.substr(0,1).toUpperCase()}),Object(c.jsx)("div",{className:U.a.profileImageWrap,children:t})},T=o(54),W=function(e){var t=e.isOwner,o=e.savePhoto,n="Select your image";return t?Object(c.jsxs)("label",{className:v.a.selectImgBtn,children:[Object(c.jsx)("span",{className:v.a.button,children:n}),Object(c.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files;t.length&&(o(t[0]),n=t[0])}})]}):""},B=function(e){var t=e.photos,o=e.fullName,n=e.userId,r=e.isOwner,a=Object(j.a)(e,["photos","fullName","userId","isOwner"]);return Object(c.jsxs)("div",{className:v.a.profileMainInfo,children:[Object(c.jsxs)("div",{className:v.a.profileAvatar,children:[Object(c.jsx)(V,{photos:t,fullName:o}),Object(c.jsx)(W,{isOwner:r,savePhoto:a.savePhoto})]}),Object(c.jsxs)("div",{className:v.a.profileStatus,children:[Object(c.jsx)("div",{className:v.a.profileName,children:o}),Object(c.jsx)(D,{})]}),Object(c.jsx)("div",{className:v.a.profileId,children:n})]})},z=function(e){var t=e.aboutMe;Object(j.a)(e,["aboutMe"]);return t?Object(c.jsxs)("div",{className:m.a.profileJob,children:[Object(c.jsx)("h2",{children:"About me"}),Object(c.jsx)("p",{children:t})]}):""},G=function(e){var t=e.isOwner,o=e.profile,n=Object(j.a)(e,["isOwner","profile"]);return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:f.a.profileUser,children:[Object(c.jsx)(B,{fullName:o.fullName,photos:o.photos,userId:o.userId,isOwner:t,savePhoto:n.savePhoto}),Object(c.jsx)(z,{aboutMe:o.aboutMe}),Object(c.jsx)(x,{lookingForAJob:o.lookingForAJob,lookingForAJobDescription:o.lookingForAJobDescription}),Object(c.jsx)(h,{contacts:o.contacts})]})})},L=o(308),Y=o.n(L),q=function(e){var t=e.message,o=e.likesCount;return Object(c.jsxs)("div",{className:Y.a.post,children:[Object(c.jsx)("p",{children:t}),Object(c.jsx)("small",{children:"Like"}),Object(c.jsx)("small",{children:o})]})},X=o(309),Z=o.n(X),H=o(131),K=o(132),Q=o(296),R=Object(Q.b)(300),$=l.a.memo((function(e){var t=e.addPostTC,o=e.profilePage.posts.map((function(e){return Object(c.jsx)(q,{message:e.post,likesCount:e.likesCount},e.id)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"My posts"}),Object(c.jsx)(ee,{onSubmit:function(e){t(e.newPost)}}),Object(c.jsx)("div",{children:o})]})})),ee=Object(K.a)({form:"postForm"})((function(e){return Object(c.jsxs)("form",{onSubmit:e.handleSubmit,className:Z.a.inputWrap,children:[Object(c.jsx)(H.a,{component:k.b,name:"newPost",placeholder:"Type your post...",className:Z.a.textarea,validate:[Q.c,R]}),Object(c.jsx)(T.a,{className:Z.a.add,children:"Add post"})]})})),te=$,oe={addPostTC:I.a},ne=Object(P.b)((function(e){return{profilePage:J(e)}}),oe)(te),re=o(55),ae=o(310),ie=o.n(ae),ce=function(e){return Object(c.jsx)(N.b,{onSubmit:e.onSubmit,initialValues:e.initialValues,profile:e.profile,children:function(e){var t=e.handleSubmit,o=e.profile,n=e.error;return Object(c.jsxs)("form",{onSubmit:t,children:[Object(c.jsxs)("div",{className:ie.a.form,children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("h2",{children:"FullName"}),Object(c.jsx)(N.a,{placeholder:"FullName",name:"fullName",validate:Object(Q.a)(Q.c),component:k.a,type:"text"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("h2",{children:"About Me"}),Object(c.jsx)(N.a,{placeholder:"About me",name:"aboutMe",component:k.b})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:ie.a.lookingForAJob,children:[Object(c.jsxs)("label",{className:ie.a.lookingForAJobCheckbox,children:[Object(c.jsx)("h2",{children:"Looking for a job?"}),Object(c.jsx)(N.a,{name:"lookingForAJob",component:k.a,type:"checkbox"})]}),Object(c.jsx)("label",{htmlFor:"lookingForAJobDescription",children:Object(c.jsx)("h2",{children:"Description for a looking job"})})]}),Object(c.jsx)(N.a,{placeholder:"Description for a looking job",name:"lookingForAJobDescription",component:k.b,id:"lookingForAJobDescription"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)("div",{children:Object.keys(o.contacts).map((function(e){return Object(c.jsxs)("label",{className:ie.a.contactItem,children:[Object(c.jsx)("strong",{className:ie.a.contactItemTitle,children:e}),Object(c.jsx)(N.a,{name:"contacts.".concat(e),component:k.a,type:"text",placeholder:"https://".concat(e,"/")})]},e)}))})]})]}),n?Object(c.jsx)("div",{children:n}):"",Object(c.jsx)(T.a,{children:"Save changes"})]})}})},se=o(311),le=o.n(se),ue=function(e){var t=e.isOwner,o=e.profile,n=Object(j.a)(e,["isOwner","profile"]),r=Object(s.useState)(!1),a=Object(u.a)(r,2),i=a[0],l=a[1];return o?Object(c.jsxs)("div",{children:[i?Object(c.jsx)(ce,{onSubmit:function(e){n.updateProfile(e).then((function(){return l(!1)}))},profile:o,initialValues:o}):Object(c.jsx)(G,{isOwner:t,profile:o,savePhoto:n.savePhoto,updateProfile:n.updateProfile}),!i&&t?Object(c.jsx)(T.a,{className:le.a.buttonEditMode,attr:{onClick:function(){t&&l(!0)}},children:"Edit profile"}):"",Object(c.jsx)(ne,{})]}):Object(c.jsx)(re.a,{})},je=o(297),be=o(70),fe=function(){var e=Object(i.a)(a.a.mark((function e(t,o,n,r,i){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=t)||(c=o)||i.push("/login"),e.next=4,n(c);case 4:r(c);case 5:case"end":return e.stop()}}),e)})));return function(t,o,n,r,a){return e.apply(this,arguments)}}(),pe={getProfile:I.c,getUserStatus:I.d,savePhoto:I.e,updateProfile:I.g,toggleIsFetching:I.f};t.default=Object(_.d)(Object(P.b)((function(e){return{profile:S(e),authorizedUserId:Object(be.c)(e),isAuth:Object(be.d)(e),isFetching:C(e)}}),pe),M.g,je.a)((function(e){var t=e.match,o=e.authorizedUserId,r=e.getProfile,a=e.getUserStatus;return Object(s.useEffect)((function(){e.toggleIsFetching(!0),fe(t.params.userId,o,r,a,e.history).then((function(t){return e.toggleIsFetching(!1)}))}),[t.params.userId]),e.isFetching?Object(c.jsx)(re.a,{flag:e.isFetching}):Object(c.jsx)(ue,Object(n.a)({isOwner:!t.params.userId},e))}))}}]);
//# sourceMappingURL=3.eea037a0.chunk.js.map