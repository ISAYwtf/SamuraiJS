(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{296:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(3),r=n(98),a=n(100),c=n(99),i=n(1),s=n(0),l=n.n(s),u=n(11),j=n(16),f=n(70),b=function(e){return{isAuth:Object(f.d)(e)}},p=function(e){var t=function(t){Object(a.a)(s,t);var n=Object(c.a)(s);function s(){var t;Object(r.a)(this,s);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(t=n.call.apply(n,[this].concat(c))).render=function(){return t.props.isAuth?Object(i.jsx)(e,Object(o.a)({},t.props)):Object(i.jsx)(u.a,{to:"/login"})},t}return s}(l.a.Component);return Object(j.b)(b)(t)}},298:function(e,t,n){e.exports={profileJob:"ProfileJob_profileJob__3F2Ok"}},304:function(e,t,n){e.exports={profileUser:"ProfileInfo_profileUser__23b78"}},305:function(e,t,n){e.exports={profileContacts:"ProfileContacts_profileContacts__2iIrN",contactsSocial:"ProfileContacts_contactsSocial__1rvOI"}},306:function(e,t,n){e.exports={profileMainInfo:"ProfileMainInfo_profileMainInfo__3NzMv",profileAvatar:"ProfileMainInfo_profileAvatar__MMbga",profileStatus:"ProfileMainInfo_profileStatus__1IAb6",profileId:"ProfileMainInfo_profileId__2f4OG",profileName:"ProfileMainInfo_profileName__1YqG0",profileDesc:"ProfileMainInfo_profileDesc__2naDA",selectImgBtn:"ProfileMainInfo_selectImgBtn__2G56V",button:"ProfileMainInfo_button__hg8hs"}},307:function(e,t,n){e.exports={profileImageWrap:"ProfileAvatar_profileImageWrap__1mmfB",profileImage:"ProfileAvatar_profileImage__et5X_",imgName:"ProfileAvatar_imgName__1boYZ"}},308:function(e,t,n){e.exports={post:"Post_post__Yp48r"}},309:function(e,t,n){e.exports={inputWrap:"Posts_inputWrap__2apF8",textarea:"Posts_textarea__2X9bt"}},310:function(e,t,n){e.exports={form:"ProfileDataForm_form__1-8Jo",contactItem:"ProfileDataForm_contactItem__2npvs",contactItemTitle:"ProfileDataForm_contactItemTitle__1rNjO"}},314:function(e,t,n){"use strict";n.r(t);var o=n(3),r=n(8),a=n.n(r),c=n(14),i=n(1),s=n(0),l=n.n(s),u=n(88),j=n(295),f=n(304),b=n.n(f),p=n(305),d=n.n(p),O=function(e){var t=e.contacts,n=(Object(j.a)(e,["contacts"]),[]);for(var o in t)t[o]&&n.push(Object(i.jsx)("a",{href:"".concat(t[o]),children:o}));return n.length>0?Object(i.jsxs)("div",{className:d.a.profileContacts,children:[Object(i.jsx)("h2",{children:"Contacts"}),Object(i.jsx)("div",{className:d.a.contactsSocial,children:n})]}):""},h=n(298),m=n.n(h),x=function(e){var t=e.lookingForAJob,n=e.lookingForAJobDescription;Object(j.a)(e,["lookingForAJob","lookingForAJobDescription"]);return Object(i.jsxs)("div",{className:m.a.profileJob,children:[Object(i.jsx)("h2",{children:"Search for a job"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:t?"Looking for a job.":"Not looking for a job."}),n]})]})},g=n(306),v=n.n(g),_=n(10),I=n(16),P=n(97),N=n(300),k=n(96),A=function(e){return Object(i.jsx)(N.b,{initialValues:e.initialValues,onSubmit:e.deactivateEditMode,children:function(e){var t=e.handleSubmit,n=t,o={autoFocus:!0,onBlur:function(e){return n(e)}};return Object(i.jsx)("form",{onSubmit:t,children:Object(i.jsx)(N.a,{component:k.a,name:"status",attr:o,type:"text"})})}})},F=function(e){var t=!e.match.params.userId,n=Object(s.useState)(!1),o=Object(u.a)(n,2),r=o[0],a=o[1];return Object(i.jsx)("div",{children:r?Object(i.jsx)(A,{initialValues:{status:e.status},deactivateEditMode:function(t){a(!1),e.updateStatus(t.status)}}):t?Object(i.jsx)("div",{children:Object(i.jsx)("span",{onDoubleClick:function(){t&&a(!0)},children:e.status})}):Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:e.status})})})},S=n(11),M=function(e){return e.profilePage},w=function(e){return e.profilePage.profile},y=function(e){return e.profilePage.isFetching},J=function(e){return e.profilePage.status},C={updateStatus:P.h},D=Object(_.d)(Object(I.b)((function(e){return{status:J(e)}}),C),S.g)(F),U=n(307),V=n.n(U),T=function(e){var t,n=e.photos,o=e.fullName;return t=n.large?Object(i.jsx)("img",{className:V.a.profileImage,src:n.large,alt:"avatar"}):n.small?Object(i.jsx)("img",{className:V.a.profileImage,src:n.small,alt:"avatar"}):Object(i.jsx)("span",{className:V.a.imgName,children:o.substr(0,1).toUpperCase()}),Object(i.jsx)("div",{className:V.a.profileImageWrap,children:t})},W=n(54),B=function(e){var t=e.isOwner,n=e.savePhoto,o="Select your image";return t?Object(i.jsxs)("label",{className:v.a.selectImgBtn,children:[Object(i.jsx)("span",{className:v.a.button,children:o}),Object(i.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files;t.length&&(n(t[0]),o=t[0])}})]}):""},E=function(e){var t=e.photos,n=e.fullName,o=e.userId,r=e.isOwner,a=Object(j.a)(e,["photos","fullName","userId","isOwner"]);return Object(i.jsxs)("div",{className:v.a.profileMainInfo,children:[Object(i.jsxs)("div",{className:v.a.profileAvatar,children:[Object(i.jsx)(T,{photos:t,fullName:n}),Object(i.jsx)(B,{isOwner:r,savePhoto:a.savePhoto})]}),Object(i.jsxs)("div",{className:v.a.profileStatus,children:[Object(i.jsx)("div",{className:v.a.profileName,children:n}),Object(i.jsx)(D,{})]}),Object(i.jsx)("div",{className:v.a.profileId,children:o})]})},z=function(e){var t=e.aboutMe;Object(j.a)(e,["aboutMe"]);return t?Object(i.jsxs)("div",{className:m.a.profileJob,children:[Object(i.jsx)("h2",{children:"About me"}),Object(i.jsx)("p",{children:t})]}):""},G=function(e){var t=e.isOwner,n=e.profile,o=Object(j.a)(e,["isOwner","profile"]);return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:b.a.profileUser,children:[Object(i.jsx)(E,{fullName:n.fullName,photos:n.photos,userId:n.userId,isOwner:t,savePhoto:o.savePhoto}),Object(i.jsx)(z,{aboutMe:n.aboutMe}),Object(i.jsx)(x,{lookingForAJob:n.lookingForAJob,lookingForAJobDescription:n.lookingForAJobDescription}),Object(i.jsx)(O,{contacts:n.contacts})]})})},L=n(308),Y=n.n(L),q=function(e){var t=e.message,n=e.likesCount;return Object(i.jsxs)("div",{className:Y.a.post,children:[Object(i.jsx)("p",{children:t}),Object(i.jsx)("small",{children:"Like"}),Object(i.jsx)("small",{children:n})]})},X=n(309),Z=n.n(X),H=n(131),K=n(132),Q=n(296),R=Object(Q.b)(300),$=l.a.memo((function(e){var t=e.addPostTC,n=e.profilePage.posts.map((function(e){return Object(i.jsx)(q,{message:e.post,likesCount:e.likesCount},e.id)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"My posts"}),Object(i.jsx)(ee,{onSubmit:function(e){t(e.newPost)}}),Object(i.jsx)("div",{children:n})]})})),ee=Object(K.a)({form:"postForm"})((function(e){return Object(i.jsxs)("form",{onSubmit:e.handleSubmit,className:Z.a.inputWrap,children:[Object(i.jsx)(H.a,{component:k.b,name:"newPost",placeholder:"Type your post...",className:Z.a.textarea,validate:[Q.c,R]}),Object(i.jsx)(W.a,{className:Z.a.add,children:"Add post"})]})})),te=$,ne={addPostTC:P.a},oe=Object(I.b)((function(e){return{profilePage:M(e)}}),ne)(te),re=n(55),ae=n(310),ce=n.n(ae),ie=function(e){return Object(i.jsx)(N.b,{onSubmit:e.onSubmit,initialValues:e.initialValues,profile:e.profile,children:function(e){var t=e.handleSubmit,n=e.profile,o=e.error;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsxs)("div",{className:ce.a.form,children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"FullName"}),Object(i.jsx)(N.a,{placeholder:"FullName",name:"fullName",validate:Object(Q.a)(Q.c),component:k.a,type:"text"})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"About Me"}),Object(i.jsx)(N.a,{placeholder:"About me",name:"aboutMe",component:k.b})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"Looking for a job?"}),Object(i.jsx)(N.a,{name:"lookingForAJob",component:k.a,type:"checkbox"})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"Description for a looking job"}),Object(i.jsx)(N.a,{placeholder:"Description for a looking job",name:"lookingForAJobDescription",component:k.b})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Contacts"}),Object(i.jsx)("div",{children:Object.keys(n.contacts).map((function(e){return Object(i.jsxs)("label",{className:ce.a.contactItem,children:[Object(i.jsx)("strong",{className:ce.a.contactItemTitle,children:e}),Object(i.jsx)(N.a,{name:"contacts.".concat(e),component:k.a,type:"text",placeholder:"https://".concat(e,"/")})]},e)}))})]})]}),o?Object(i.jsx)("div",{children:o}):"",Object(i.jsx)(W.a,{children:"Save changes"})]})}})},se=function(e){var t=e.isOwner,n=e.profile,o=Object(j.a)(e,["isOwner","profile"]),r=Object(s.useState)(!1),a=Object(u.a)(r,2),c=a[0],l=a[1];return n?Object(i.jsxs)("div",{children:[c?Object(i.jsx)(ie,{onSubmit:function(e){o.updateProfile(e).then((function(){return l(!1)}))},profile:n,initialValues:n}):Object(i.jsx)(G,{isOwner:t,profile:n,savePhoto:o.savePhoto,updateProfile:o.updateProfile}),!c&&t?Object(i.jsx)(W.a,{attr:{onClick:function(){t&&l(!0)}},children:"Edit profile"}):"",Object(i.jsx)(oe,{})]}):Object(i.jsx)(re.a,{})},le=n(297),ue=n(70),je=function(){var e=Object(c.a)(a.a.mark((function e(t,n,o,r,c){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t)||(i=n)||c.push("/login"),e.next=4,o(i);case 4:r(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n,o,r,a){return e.apply(this,arguments)}}(),fe={getProfile:P.c,getUserStatus:P.d,savePhoto:P.e,updateProfile:P.g,toggleIsFetching:P.f};t.default=Object(_.d)(Object(I.b)((function(e){return{profile:w(e),authorizedUserId:Object(ue.c)(e),isAuth:Object(ue.d)(e),isFetching:y(e)}}),fe),S.g,le.a)((function(e){var t=e.match,n=e.authorizedUserId,r=e.getProfile,a=e.getUserStatus;return Object(s.useEffect)((function(){e.toggleIsFetching(!0),je(t.params.userId,n,r,a,e.history).then((function(t){return e.toggleIsFetching(!1)}))}),[t.params.userId]),e.isFetching?Object(i.jsx)(re.a,{flag:e.isFetching}):Object(i.jsx)(se,Object(o.a)({isOwner:!t.params.userId},e))}))}}]);
//# sourceMappingURL=3.ee49c681.chunk.js.map