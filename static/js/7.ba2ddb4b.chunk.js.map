{"version":3,"sources":["components/common/FormControls/FormControls.js","components/common/FormControls/FormControls.module.css","utils/validators/validators.js","components/Login/Login.module.css","components/Login/Login.jsx"],"names":["FormControl","props","hasError","meta","error","touched","errorClass","classes","errorMessage","active","className","container","children","Textarea","input","placeholder","Input","type","attr","module","exports","required","value","maxLengthCreator","maxLength","length","composeValidators","validators","reduce","validator","undefined","LoginFormRedux","reduxForm","form","handleSubmit","captchaUrl","onSubmit","field","name","validate","component","rememberMe","captcha","src","mapDispatchToProps","login","connect","state","isAuth","getIsAuth","getAuthCaptcha","to","formTitle","formData","email","password"],"mappings":"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","file":"static/js/7.ba2ddb4b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport classes from \"./FormControls.module.css\";\r\n\r\nconst FormControl = props => {\r\n    const hasError = props.meta.error && props.meta.touched;\r\n    const errorClass = hasError ? classes.error : \"\";\r\n    const errorMessage = hasError && props.meta.active ?\r\n        <small className={classes.errorMessage}>{props.meta.error}</small> : \"\";\r\n\r\n    return (\r\n        <div className={`${classes.container} ${props.className} ${errorClass}`}>\r\n            {props.children}\r\n            {errorMessage}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = props =>\r\n    <FormControl {...props}>\r\n        <textarea {...props.input} className={classes.input} placeholder={props.placeholder}/>\r\n    </FormControl>\r\n\r\nexport const Input = props => {\r\n    const type = props.type || props.input.type || \"text\";\r\n    const placeholder = props.placeholder || props.input.placeholder || \"\";\r\n\r\n    return <FormControl {...props}>\r\n        <input {...props.input} className={`${classes.input} ${props.className}`} {...props.attr}\r\n               placeholder={placeholder} type={type}/>\r\n    </FormControl>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormControls_container__2sQsd\",\"input\":\"FormControls_input__2T87e\",\"error\":\"FormControls_error__IMw-7\",\"errorMessage\":\"FormControls_errorMessage__3MzwF\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\nexport const composeValidators = (...validators) => value =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formTitle\":\"Login_formTitle__3lG_J\",\"form\":\"Login_form__Lz0q5\",\"field\":\"Login_field__1rRPb\",\"error\":\"Login_error__oEYoh\",\"captcha\":\"Login_captcha__e3XDC\",\"rememberMe\":\"Login_rememberMe__2rxMY\"};","import React from \"react\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/Auth/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classes from \"./Login.module.css\";\r\nimport Button from \"../common/Button\";\r\nimport {reduxForm, Field} from \"redux-form\";\r\nimport {getAuthCaptcha, getIsAuth} from \"../../redux/Auth/auth-selectors\";\r\n\r\nconst LoginForm = ({handleSubmit, captchaUrl, error}) =>\r\n    <form className={classes.form} onSubmit={handleSubmit}>\r\n        <div className={classes.field}>\r\n            <Field placeholder={\"Email\"} name={\"email\"}\r\n                   validate={[required]} component={Input}/>\r\n        </div>\r\n        <div className={classes.field}>\r\n            <Field type=\"password\" placeholder={\"Password\"} name={\"password\"}\r\n                   validate={[required]}\r\n                   component={Input}/>\r\n        </div>\r\n        <label className={classes.rememberMe}>\r\n            <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/>\r\n            <p>Remember Me</p>\r\n        </label>\r\n        {captchaUrl\r\n            ? <div className={classes.captcha}>\r\n                <img src={captchaUrl}/>\r\n                <Field component={Input} placeholder={\"Input symbols from the image\"} name={\"captcha\"}/>\r\n            </div>\r\n            : \"\"}\r\n        {error\r\n            ? <div className={classes.error}>{error}</div>\r\n            : \"\"\r\n        }\r\n        <div>\r\n            <Button>Login</Button>\r\n        </div>\r\n    </form>\r\n\r\nconst LoginFormRedux = reduxForm({form: \"login\"})(LoginForm);\r\n\r\nconst Login = ({login, isAuth, captchaUrl}) => {\r\n    const submitData = formData => {\r\n        const {email, password, rememberMe, captcha} = formData;\r\n        login(email, password, rememberMe, captcha);\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"}/>;\r\n    }\r\n\r\n    return (\r\n        <div className={`component--wrap`}>\r\n            <h2 className={classes.formTitle}>Sign in</h2>\r\n            <LoginFormRedux onSubmit={submitData} captchaUrl={captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: getIsAuth(state),\r\n    captchaUrl: getAuthCaptcha(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    login\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"],"sourceRoot":""}