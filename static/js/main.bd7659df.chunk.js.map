{"version":3,"sources":["redux/Dialogs/dialogs-reducer.js","api/api.js","components/common/Button/Button.module.css","components/Body/Body.module.css","components/Content/Content.module.css","components/Sidebar/Sidebar.module.css","components/Navbar/Navbar.module.css","redux/App/app-reducer.js","redux/Sidebar/sidebar-reducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","hoc/withSuspense.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Content/Content.jsx","components/Content/index.js","components/Navbar/Navbar.jsx","components/Search/Search.jsx","components/Sidebar/Sidebar.jsx","components/Body/index.js","components/Body/Body.jsx","redux/App/app-selectors.js","components/common/Alert/Alert.jsx","App.js","index.js","components/Header/Header.module.css","redux/Auth/auth-reducer.js","components/common/FormControls/FormControls.module.css","components/Search/Search.module.css","components/common/Button/Button.jsx","components/common/Button/index.js","components/common/Preloader/Preloader.jsx","utils/object-helpers.js","redux/Users/users-reducer.js","redux/Auth/auth-selectors.js","components/common/Preloader/Preloader.module.css","components/common/Alert/Alert.module.css","components/common/FormControls/FormControls.js","redux/Profile/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","mine","sendMessageTC","dispatch","type","sendMessage","reset","dialogsReducer","state","action","newMessage","server","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followTo","post","unFollowTo","delete","getProfile","userId","profileAPI","getStatus","updateStatus","status","put","updateProfile","profile","savePhoto","file","formData","FormData","append","authAPI","getMe","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","INITIALIZED_SUCCESS","HAS_ERROR","initialized","errorData","hasError","errorMessage","toggleHasError","payload","initializeApp","Promise","all","appReducer","friends","img","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","usersReducer","auth","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","isAuth","className","classes","header","logo","src","alt","loginUser","to","loginInfo","Button","attr","HeaderContainer","render","props","React","Component","mapDispatchToProps","connect","getIsAuth","getAuthLogin","withSuspense","fallback","Preloader","Music","Settings","DialogsContainer","lazy","ProfileContainer","Login","UsersContainer","Content","content","path","exact","Navbar","nav","activeClassName","active","item","SearchFormRedux","reduxForm","searchTitle","title","onSubmit","handleSubmit","Field","input","component","Input","placeholder","setCurrentPage","withRouter","useState","redirect","setRedirect","setUserId","history","push","searchBlock","searchUser","searchPage","isNaN","e","Sidebar","Body","body","getAppInitialized","getAppErrorData","alert","onClick","children","AppContainer","useEffect","SamuraiJSApp","ReactDOM","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setUserData","getCaptchaUrlSuccess","a","resultCode","getCaptcha","length","stopSubmit","_error","url","button","flag","preloaderWrap","preloaderPulse","updateObjectInArray","items","itemId","objPropName","newObjProps","map","el","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING","users","totalUsersCount","isFetching","isFollowing","follow","unFollow","toggleIsFetching","toggleIsFollowing","page","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed","filter","getAuthorizedId","getAuthCaptcha","FormControl","meta","error","touched","errorClass","container","Textarea","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SET_FULLNAME","SET_PHOTO","posts","likesCount","setStatus","addPostTC","newPost","addPost","msg","getUserStatus","photos","getState","reject","fullName"],"mappings":"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","file":"static/js/main.bd7659df.chunk.js","sourcesContent":["import {reset} from \"redux-form\";\r\n\r\nconst SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dmitriy'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Svetlana'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Viktor'},\r\n        {id: 6, name: 'Valeriy'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi', mine: false},\r\n        {id: 2, message: 'How are you', mine: false},\r\n        {id: 3, message: 'Yo', mine: false},\r\n        {id: 4, message: 'Yo', mine: true},\r\n        {id: 5, message: 'My friend', mine: true},\r\n        {id: 6, message: `It's a new cool chat, dude!`, mine: true},\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const newMessage = {\r\n                id: 7,\r\n                message: action.message,\r\n                mine: true\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {...newMessage}],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = message => ({type: SEND_MESSAGE, message});\r\n\r\nexport const sendMessageTC = message => dispatch => {\r\n    dispatch(sendMessage(message));\r\n    dispatch(reset(\"dialogAddMessageForm\"));\r\n}\r\n\r\nexport default dialogsReducer;\r\n","import * as axios from \"axios\";\r\n\r\nconst server = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"eed101de-783b-4107-bd06-6b28cf0259ec\"\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 5) {\r\n        return server.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    followTo(id) {\r\n        return server.post(`follow/${id}`)\r\n            .then(response => response.data);\r\n    },\r\n    unFollowTo(id) {\r\n        return server.delete(`follow/${id}`)\r\n            .then(response => response.data);\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return server.get(`profile/${userId}`)\r\n            // .then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return server.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return server.put(`profile/status`, {status})\r\n            .then(response => response.data);\r\n    },\r\n    updateProfile(profile) {\r\n        return server.put(`profile`, profile)\r\n            .then(response => response.data);\r\n    },\r\n    savePhoto(file) {\r\n        const formData = new FormData();\r\n        const headers = {\r\n            'Content-Type': 'multipart/form-data'\r\n        };\r\n\r\n        formData.append(\"image\", file);\r\n        return server.put(`profile/photo`, formData, {headers})\r\n            .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getMe() {\r\n        return server.get(`auth/me/`, {\r\n            withCredentials: true\r\n        }).then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false, captcha) {\r\n        return server.post(`auth/login/`,\r\n            {email, password, rememberMe, captcha})\r\n            .then(response => response.data);\r\n    },\r\n    logout() {\r\n        return server.delete(`auth/login/`)\r\n            .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return server.get(`security/get-captcha-url`).then(response => response.data);\r\n    },\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2OA9t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Body_body__O9JwV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__QlRth\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__qTWDG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__Tt1MA\",\"item\":\"Navbar_item__1GDSe\",\"active\":\"Navbar_active__1ndrs\"};","import {getMe} from \"../Auth/auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\r\nconst HAS_ERROR = 'HAS-ERROR';\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n    errorData: {\r\n        hasError: false,\r\n        errorMessage: null\r\n    }\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        case HAS_ERROR:\r\n            return {\r\n                ...state,\r\n                errorData: {...action.payload}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\nexport const toggleHasError = (errorData = [false, null]) => ({\r\n    type: HAS_ERROR,\r\n    payload: {hasError: errorData[0], errorMessage: errorData[1]}\r\n});\r\n\r\nexport const initializeApp = () => dispatch => {\r\n    const initialized = dispatch(getMe());\r\n\r\n    Promise.all([initialized])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\nexport default appReducer;\r\n","const initialState = {\r\n    friends: [\r\n        {id: 1, img: 'https://s0.rbk.ru/v6_top_pics/media/img/8/22/755895443908228.jpg'},\r\n        {\r\n            id: 2,\r\n            img: 'https://www.moya-planeta.ru/upload/images/xl/19/a7/19a713c5edb6c69c5a0c31b875d732b3.jpg'\r\n        },\r\n        {id: 3, img: 'https://brammels.com/wp-content/uploads/2018/06/krasivye-lyudi-umnee.jpg'},\r\n        {id: 4, img: 'https://www.kino-teatr.ru/art/5823/82736.jpg'}\r\n    ]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./Profile/profile-reducer\";\r\nimport dialogsReducer from \"./Dialogs/dialogs-reducer\";\r\nimport sidebarReducer from \"./Sidebar/sidebar-reducer\";\r\nimport usersReducer from \"./Users/users-reducer\";\r\nimport authReducer from \"./Auth/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./App/app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Button from \"../common/Button\";\r\n\r\nconst Header = ({isAuth, login, logout}) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <div className={classes.logo}>\r\n                <img src=\"https://www.freelogodesign.org/Content/img/logo-ex-7.png\" alt=\"logo\"/>\r\n            </div>\r\n            <div className={classes.login}>\r\n                {isAuth\r\n                    ? <div className={classes.loginUser}>\r\n                        <NavLink to={\"/profile\"} className={classes.loginInfo}>{login}</NavLink>\r\n                        <Button attr={{\"onClick\": logout}}>Log Out</Button>\r\n                    </div>\r\n                    : <NavLink className={classes.loginInfo} to={`/login`}>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/Auth/auth-reducer\";\r\nimport {getIsAuth, getAuthLogin} from \"../../redux/Auth/auth-selectors\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render = () => <Header {...this.props} />\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: getIsAuth(state),\r\n    login: getAuthLogin(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\r\n","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = Component =>\r\n    props =>\r\n        <Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n","import React from 'react';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {withSuspense} from \"../../hoc/withSuspense\";\r\nimport Music from \"../Music/Music\";\r\nimport Settings from \"../Settings/Settings\";\r\nimport classes from \"./Content.module.css\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./../Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./../Profile/ProfileContainer'));\r\nconst Login = React.lazy(() => import('./../Login/Login'));\r\nconst UsersContainer = React.lazy(() => import('../Users/UsersContainer'));\r\n\r\nconst Content = props => {\r\n    return (\r\n        <div className={classes.content}>\r\n            <Switch>\r\n                <Route path={`/`} exact\r\n                       render={() => <Redirect to={\"/profile\"}/>}/>\r\n                <Route path={`/profile/:userId?`}\r\n                       render={withSuspense(ProfileContainer)}/>\r\n                <Route path={`/dialogs`}\r\n                       render={withSuspense(DialogsContainer)}/>\r\n                <Route path={`/users`} render={withSuspense(UsersContainer)}/>\r\n                <Route path={`/music`} render={() => <Music/>}/>\r\n                <Route path={`/settings`} render={() => <Settings/>}/>\r\n                <Route path={`/login`} render={withSuspense(Login)}/>\r\n                <Route path={\"*\"} render={() => <div>404 NOT FOUND</div>}/>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Content;\r\n","import Content from \"./Content\";\r\n\r\nexport default Content;\r\n","import React from \"react\";\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n// import FriendsList from \"./FriendsList/FriendsList\";\r\n// import {connect} from \"react-redux\";\r\n// import {getSidebarFriends} from \"../../redux/Sidebar/sidebar-selectors\";\r\n\r\n// const mapStateToProps = (state) => ({\r\n//     friends: getSidebarFriends(state)\r\n// })\r\n\r\n// const FriendsListContainer = connect(mapStateToProps)(FriendsList);\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <NavLink to={`/profile`} activeClassName={classes.active} className={classes.item}>\r\n                Profile\r\n            </NavLink>\r\n            <NavLink to={`/dialogs`} activeClassName={classes.active} className={classes.item}>\r\n                Messages\r\n            </NavLink>\r\n            <NavLink to={`/users`} activeClassName={classes.active} className={classes.item}>\r\n                Users\r\n            </NavLink>\r\n            <NavLink to={`/music`} activeClassName={classes.active} className={classes.item}>\r\n                Music\r\n            </NavLink>\r\n            <NavLink to={`/settings`} activeClassName={classes.active} className={classes.item}>\r\n                Settings\r\n            </NavLink>\r\n            {/*<FriendsListContainer />*/}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n","import React, {useState} from \"react\";\r\nimport classes from \"./Search.module.css\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport Button from \"../common/Button\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {setCurrentPage} from \"../../redux/Users/users-reducer\";\r\nimport {toggleHasError} from \"../../redux/App/app-reducer\";\r\n\r\nconst Search = props => {\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [userId, setUserId] = useState(null);\r\n\r\n    const handleSearchUser = formData => {\r\n        setRedirect(true);\r\n        setUserId(formData.searchUser);\r\n    }\r\n\r\n    const handleSearchPage = formData => {\r\n        try {\r\n            setRedirect(true);\r\n            if (typeof +formData.searchPage !== \"number\" || isNaN(+formData.searchPage)) {\r\n                setRedirect(false);\r\n                throw \"Input number, please\";\r\n            }\r\n            props.setCurrentPage(+formData.searchPage);\r\n        } catch (e) {\r\n            props.toggleHasError([true, e]);\r\n        }\r\n\r\n    }\r\n\r\n    if (redirect) {\r\n        setRedirect(false);\r\n        if (userId) {\r\n            props.history.push(`/profile/${userId}`);\r\n            setUserId(null);\r\n        }\r\n        else {\r\n            props.history.push(`/users`);\r\n        }\r\n\r\n    }\r\n\r\n    return <div className={classes.searchBlock}>\r\n        <SearchFormRedux title={\"User ID\"} placeholder={\"Input user ID\"} name={\"searchUser\"}\r\n                         onSubmit={handleSearchUser}/>\r\n        <SearchFormRedux title={\"Page of users\"} placeholder={\"Input number of page\"} name={\"searchPage\"}\r\n                         onSubmit={handleSearchPage}/>\r\n    </div>\r\n}\r\n\r\nconst SearchForm = props => {\r\n    return (\r\n        <div className={classes.form}>\r\n            <p className={classes.searchTitle}>{props.title}</p>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <Field className={classes.input} component={Input} name={props.name} placeholder={props.placeholder}/>\r\n                <Button>Search</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SearchFormRedux = reduxForm({form: \"searchForm\"})(SearchForm);\r\n\r\nconst mapDispatchToProps = {\r\n    setCurrentPage,\r\n    toggleHasError,\r\n    reset\r\n}\r\n\r\nexport default compose(\r\n    connect(null, mapDispatchToProps),\r\n    withRouter\r\n)(Search);\r\n","import React from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport classes from \"./Sidebar.module.css\";\r\nimport Search from \"../Search/Search\";\r\n\r\nconst Sidebar = props =>\r\n    <div className={classes.sidebar}>\r\n        <Navbar/>\r\n        <Search/>\r\n    </div>\r\n\r\nexport default Sidebar;\r\n","import Body from \"./Body\";\r\n\r\nexport default Body;\r\n","import React from \"react\";\r\nimport classes from \"./Body.module.css\";\r\nimport Content from \"../Content\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\n\r\nconst Body = props => {\r\n    return (\r\n        <div className={classes.body}>\r\n            <Sidebar/>\r\n            <Content/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Body;\r\n","export const getAppInitialized = state => state.app.initialized\r\nexport const getAppErrorData = state => state.app.errorData\r\n","import React from \"react\";\r\nimport classes from \"./Alert.module.css\";\r\nimport {connect} from \"react-redux\";\r\nimport {toggleHasError} from \"../../../redux/App/app-reducer\";\r\n\r\nconst Alert = props => {\r\n    const resetError = () => {\r\n        props.toggleHasError();\r\n    }\r\n\r\n    return <div className={classes.alert} onClick={resetError}>\r\n        <div className={classes.message}>\r\n            {props.children}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    toggleHasError\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Alert);\r\n","import React, {useEffect} from \"react\";\r\nimport {BrowserRouter, HashRouter, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport './App.css';\r\nimport store from \"./redux/redux-store\";\r\nimport {toggleHasError, initializeApp} from \"./redux/App/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Body from \"./components/Body\";\r\nimport {getAppErrorData, getAppInitialized} from \"./redux/App/app-selectors\";\r\nimport Alert from \"./components/common/Alert/Alert\";\r\n\r\nconst App = props => {\r\n    useEffect(() => props.initializeApp(), [])\r\n\r\n    if (!props.initialized) return <Preloader/>\r\n\r\n    return <div className='app-wrapper'>\r\n        <HeaderContainer/>\r\n        <Body/>\r\n\r\n        {props.errorData.hasError ? <Alert>{props.errorData.errorMessage}</Alert> : \"\"}\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    initialized: getAppInitialized(state),\r\n    errorData: getAppErrorData(state)\r\n})\r\nconst mapDispatchToProps = {initializeApp, toggleHasError}\r\n\r\nconst AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(App);\r\n\r\nconst SamuraiJSApp = props =>\r\n    <HashRouter >\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n\r\nexport default SamuraiJSApp;\r\n","import React from 'react';\r\nimport './index.css';\r\nimport ReactDOM from \"react-dom\";\r\nimport SamuraiJSApp from \"./App\";\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2gpML\",\"logo\":\"Header_logo__2P5Uz\",\"login\":\"Header_login__37Er4\",\"loginUser\":\"Header_loginUser__3w0Cd\",\"loginInfo\":\"Header_loginInfo__1DXwF\"};","import {authAPI, securityAPI} from \"../../api/api\";\r\nimport {reset, stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET-CAPTCHA-URL-SUCCESS';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null // if null, then captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\n\r\nexport const getMe = () => async dispatch => {\r\n    const data = await authAPI.getMe();\r\n\r\n    if (data.resultCode === 0) {\r\n        let {id, login, email} = data.data;\r\n        dispatch(setUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha = null) => async dispatch => {\r\n    const data = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(getMe());\r\n        dispatch(reset('login'));\r\n    } else {\r\n        if (data.resultCode === 10) {\r\n            dispatch(reset('login'));\r\n            dispatch(getCaptcha());\r\n        }\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Email or password are incorrect.\";\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptcha = () => async dispatch => {\r\n    const data = await securityAPI.getCaptchaUrl();\r\n\r\n    const captchaUrl = data.url;\r\n\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n    const data = await authAPI.logout()\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormControls_container__1O6pH\",\"input\":\"FormControls_input__1vNYD\",\"error\":\"FormControls_error__R3-iJ\",\"errorMessage\":\"FormControls_errorMessage__znvpV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBlock\":\"Search_searchBlock__16f6I\",\"searchTitle\":\"Search_searchTitle__2lU9A\",\"form\":\"Search_form__3OOKC\",\"input\":\"Search_input__SJKux\"};","import React from \"react\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nconst Button = props => {\r\n    let {className, attr} = props;\r\n\r\n    className = className ? className : \"\";\r\n\r\n    return <button {...attr} className={`${classes.button} ${className}`}>{props.children}</button>\r\n}\r\n\r\nexport default Button;\r\n","import Button from \"./Button\";\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport classes from \"./Preloader.module.css\";\r\n\r\nconst Preloader = ({flag = true}) => {\r\n    if (!flag) return \"\";\r\n\r\n    return <section className={classes.preloaderWrap}>\r\n        <div className={classes.preloaderPulse}></div>\r\n    </section>\r\n}\r\n\r\nexport default Preloader;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(el => {\r\n        if (el[objPropName] === itemId) {\r\n            return {...el, ...newObjProps}\r\n        }\r\n        return el;\r\n    })\r\n}\r\n","import {usersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'samurai-network/users/FOLLOW';\r\nconst UNFOLLOW = 'samurai-network/users/UNFOLLOW';\r\nconst SET_USERS = 'samurai-network/users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'samurai-network/users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'samurai-network/users/SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'samurai-network/users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING = 'samurai-network/users/TOGGLE-IS-FOLLOWING';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isFollowing: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING:\r\n            return {\r\n                ...state, isFollowing: action.isFollowing\r\n                    ? [...state.isFollowing, action.userId]\r\n                    : state.isFollowing.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const follow = userId => ({type: FOLLOW, userId});\r\nexport const unFollow = userId => ({type: UNFOLLOW, userId});\r\nexport const setUsers = users => ({type: SET_USERS, users});\r\nexport const setCurrentPage = currentPage => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = totalCount => ({type: SET_TOTAL_COUNT, totalCount});\r\nexport const toggleIsFetching = isFetching => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleIsFollowing = (isFollowing, userId) => ({type: TOGGLE_IS_FOLLOWING, isFollowing, userId});\r\n\r\nexport const getUsers = (page, pageSize) => async dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n    const data = await usersAPI.getUsers(page, pageSize)\r\n\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowing(true));\r\n\r\n    const data = await apiMethod(userId)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowing(false, userId));\r\n}\r\n\r\nexport const unFollowTo = userId => async dispatch => {\r\n    const apiMethod = usersAPI.unFollowTo.bind(usersAPI);\r\n    const actionCreator = unFollow;\r\n\r\n    await followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n}\r\n\r\nexport const followTo = userId => async dispatch => {\r\n    const apiMethod = usersAPI.followTo.bind(usersAPI);\r\n    const actionCreator = follow;\r\n\r\n    await followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n}\r\n\r\nexport default usersReducer;\r\n","export const getAuthorizedId = state => state.auth.userId\r\nexport const getIsAuth = state => state.auth.isAuth\r\nexport const getAuthLogin = state => state.auth.login\r\nexport const getAuthCaptcha = state => state.auth.captchaUrl\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderWrap\":\"Preloader_preloaderWrap__3ydVF\",\"preloaderPulse\":\"Preloader_preloaderPulse__3Q7Dq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alert\":\"Alert_alert__3F7Uc\",\"message\":\"Alert_message__xFDTQ\"};","import React from \"react\";\r\nimport classes from \"./FormControls.module.css\";\r\n\r\nconst FormControl = props => {\r\n    const hasError = props.meta.error && props.meta.touched;\r\n    const errorClass = hasError ? classes.error : \"\";\r\n    const errorMessage = hasError ? <small className={classes.errorMessage}>{props.meta.error}</small> : \"\";\r\n\r\n    return (\r\n        <div className={`${classes.container} ${props.className} ${errorClass}`}>\r\n            {props.children}\r\n            {errorMessage}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = props =>\r\n    <FormControl {...props}>\r\n        <textarea {...props.input} className={classes.input} placeholder={props.placeholder}/>\r\n    </FormControl>\r\n\r\nexport const Input = props =>\r\n    <FormControl {...props}>\r\n        <input {...props.input} className={`${classes.input} ${props.className}`} {...props.attr}\r\n               placeholder={props.placeholder || \"\"} type={props.type || \"text\"}/>\r\n    </FormControl>\r\n","import {profileAPI, usersAPI} from \"../../api/api\";\r\nimport {reset, stopSubmit} from \"redux-form\";\r\nimport {toggleHasError} from \"../App/app-reducer\";\r\n\r\nconst ADD_POST = 'samurai-network/profile/ADD-POST';\r\nconst DELETE_POST = 'samurai-network/profile/DELETE-POST';\r\nconst SET_USER_PROFILE = 'samurai-network/profile/SET-USER-PROFILE';\r\nconst SET_STATUS = 'samurai-network/profile/SET-STATUS';\r\nconst SET_FULLNAME = 'samurai-network/profile/SET-FULLNAME';\r\nconst SET_PHOTO = 'samurai-network/profile/SET-PHOTO';\r\nconst TOGGLE_IS_FETCHING = 'samurai-network/profile/TOGGLE-IS-FETCHING';\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, post: 'Hi how are you', likesCount: 15},\r\n    ],\r\n    status: null,\r\n    profile: null,\r\n    isFetching: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost = {\r\n                id: 3,\r\n                post: action.newPost,\r\n                likesCount: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {...newPost}],\r\n            };\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(el => el.id !== action.post),\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case SET_FULLNAME:\r\n            return {\r\n                ...state,\r\n                fullName: action.fullName\r\n            };\r\n        case SET_PHOTO:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = newPost => ({type: ADD_POST, newPost});\r\nexport const deletePost = post => ({type: DELETE_POST, post});\r\nexport const setUserProfile = profile => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = status => ({type: SET_STATUS, status});\r\nexport const setFullName = fullName => ({type: SET_FULLNAME, fullName});\r\nexport const savePhotoSuccess = photos => ({type: SET_PHOTO, photos});\r\nexport const toggleIsFetching = isFetching => ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const addPostTC = newPost => dispatch => {\r\n    dispatch(addPost(newPost));\r\n    dispatch(reset('postForm'));\r\n}\r\n\r\nexport const getProfile = userId => async dispatch => {\r\n    try {\r\n        const response = await usersAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response.data));\r\n    } catch (e) {\r\n        let msg = e.response.data.message;\r\n        if (e.response.status >= 400 && e.response.status <= 500) {\r\n            msg = \"User is not exist\";\r\n        }\r\n        dispatch(toggleHasError([true, msg]));\r\n    }\r\n};\r\n\r\nexport const getUserStatus = userId => async dispatch => {\r\n    const data = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(data));\r\n};\r\n\r\nexport const updateStatus = status => async dispatch => {\r\n    try {\r\n        const data = await profileAPI.updateStatus(status);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    } catch (e) {\r\n\r\n    }\r\n\r\n};\r\n\r\nexport const savePhoto = file => async dispatch => {\r\n    const data = await profileAPI.savePhoto(file);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(data.data.photos));\r\n    }\r\n};\r\n\r\nexport const updateProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const data = await profileAPI.updateProfile(profile);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(getProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"editProfile\", {_error: data.messages[0]}));\r\n        return Promise.reject(data.messages[0]);\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}