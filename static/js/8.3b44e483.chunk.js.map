{"version":3,"sources":["components/common/FormControls/FormControls.js","components/common/FormControls/FormControls.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Search/Search.module.css","components/Search/Search.jsx"],"names":["FormControl","props","hasError","meta","error","touched","errorClass","classes","errorMessage","active","className","container","children","Textarea","input","placeholder","Input","type","attr","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","SearchFormRedux","reduxForm","form","searchTitle","title","onSubmit","handleSubmit","component","name","mapDispatchToProps","setCurrentPage","toggleHasError","reset","compose","connect","withRouter","useState","redirect","setRedirect","userId","setUserId","history","formData","searchUser","searchPage","isNaN","e"],"mappings":"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","file":"static/js/8.3b44e483.chunk.js","sourcesContent":["import React from \"react\";\r\nimport classes from \"./FormControls.module.css\";\r\n\r\nconst FormControl = props => {\r\n    const hasError = props.meta.error && props.meta.touched;\r\n    const errorClass = hasError ? classes.error : \"\";\r\n    const errorMessage = hasError && props.meta.active ?\r\n        <small className={classes.errorMessage}>{props.meta.error}</small> : \"\";\r\n\r\n    return (\r\n        <div className={`${classes.container} ${props.className} ${errorClass}`}>\r\n            {props.children}\r\n            {errorMessage}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = props =>\r\n    <FormControl {...props}>\r\n        <textarea {...props.input} className={classes.input} placeholder={props.placeholder}/>\r\n    </FormControl>\r\n\r\nexport const Input = props => {\r\n    const type = props.type || props.input.type || \"text\";\r\n    const placeholder = props.placeholder || props.input.placeholder || \"\";\r\n\r\n    return <FormControl {...props}>\r\n        <input {...props.input} className={`${classes.input} ${props.className}`} {...props.attr}\r\n               placeholder={placeholder} type={type}/>\r\n    </FormControl>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormControls_container___o5NI\",\"input\":\"FormControls_input__HTGKf\",\"error\":\"FormControls_error__W27vx\",\"errorMessage\":\"FormControls_errorMessage__2rGlJ\"};","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchTitle\":\"Search_searchTitle__UULRu\",\"form\":\"Search_form__2tesy\",\"input\":\"Search_input__2OGmf\"};","import React, {useState} from \"react\";\r\nimport classes from \"./Search.module.css\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport Button from \"../common/Button\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {setCurrentPage} from \"../../redux/Users/users-reducer\";\r\nimport {toggleHasError} from \"../../redux/App/app-reducer\";\r\n\r\nconst Search = props => {\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [userId, setUserId] = useState(null);\r\n\r\n    const handleSearchUser = formData => {\r\n        setRedirect(true);\r\n        setUserId(formData.searchUser);\r\n    }\r\n\r\n    const handleSearchPage = formData => {\r\n        try {\r\n            setRedirect(true);\r\n            if (typeof +formData.searchPage !== \"number\" || isNaN(+formData.searchPage)) {\r\n                setRedirect(false);\r\n                throw \"Input number, please\";\r\n            }\r\n            props.setCurrentPage(+formData.searchPage);\r\n        } catch (e) {\r\n            props.toggleHasError([true, e]);\r\n        }\r\n\r\n    }\r\n\r\n    if (redirect) {\r\n        setRedirect(false);\r\n        if (userId) {\r\n            props.history.push(`/profile/${userId}`);\r\n            setUserId(null);\r\n        }\r\n        else {\r\n            props.history.push(`/users`);\r\n        }\r\n\r\n    }\r\n\r\n    return <div className={`component component--sidebar`}>\r\n        <SearchFormRedux title={\"User ID\"} placeholder={\"Input user ID\"} name={\"searchUser\"}\r\n                         onSubmit={handleSearchUser}/>\r\n        <SearchFormRedux title={\"Page of users\"} placeholder={\"Input number of page\"} name={\"searchPage\"}\r\n                         onSubmit={handleSearchPage}/>\r\n    </div>\r\n}\r\n\r\nconst SearchForm = props => {\r\n    return (\r\n        <div className={classes.form}>\r\n            <p className={classes.searchTitle}>{props.title}</p>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <Field className={classes.input} component={Input} name={props.name} placeholder={props.placeholder}/>\r\n                <Button>Search</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SearchFormRedux = reduxForm({form: \"searchForm\"})(SearchForm);\r\n\r\nconst mapDispatchToProps = {\r\n    setCurrentPage,\r\n    toggleHasError,\r\n    reset\r\n}\r\n\r\nexport default compose(\r\n    connect(null, mapDispatchToProps),\r\n    withRouter\r\n)(Search);\r\n"],"sourceRoot":""}