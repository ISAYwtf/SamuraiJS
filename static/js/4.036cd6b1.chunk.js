(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{230:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return l}));var o=r(3),n=r(1),a=(r(0),r(232)),c=r.n(a),s=function(e){var t=e.meta.error&&e.meta.touched,r=t?c.a.error:"",o=t?Object(n.jsx)("small",{className:c.a.errorMessage,children:e.meta.error}):"";return Object(n.jsxs)("div",{className:"".concat(c.a.container," ").concat(e.className," ").concat(r),children:[e.children,o]})},i=function(e){return Object(n.jsx)(s,Object(o.a)(Object(o.a)({},e),{},{children:Object(n.jsx)("textarea",Object(o.a)(Object(o.a)({},e.input),{},{className:c.a.input,placeholder:e.placeholder}))}))},l=function(e){return Object(n.jsx)(s,Object(o.a)(Object(o.a)({},e),{},{children:Object(n.jsx)("input",Object(o.a)(Object(o.a)({},e.input),{},{className:c.a.input,placeholder:e.placeholder,type:e.type}))}))}},231:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return n}));var o=function(e){if(!e)return"Field is required"},n=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},232:function(e,t,r){e.exports={container:"FormControls_container__1O6pH",input:"FormControls_input__1vNYD",error:"FormControls_error__R3-iJ",errorMessage:"FormControls_errorMessage__znvpV"}},239:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var o=r(3),n=r(27),a=r(29),c=r(28),s=r(1),i=r(0),l=r.n(i),u=r(7),j=r(20),b=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(a.a)(i,t);var r=Object(c.a)(i);function i(){var t;Object(n.a)(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(t=r.call.apply(r,[this].concat(c))).render=function(){return t.props.isAuth?Object(s.jsx)(e,Object(o.a)({},t.props)):Object(s.jsx)(u.a,{to:"/login"})},t}return i}(l.a.Component);return Object(j.b)(b)(t)}},252:function(e,t,r){e.exports={profileJob:"ProfileJob_profileJob__3F2Ok"}},296:function(e,t,r){e.exports={headImg:"ProfileInfo_headImg__1M-eY",profileUser:"ProfileInfo_profileUser__23b78"}},297:function(e,t,r){e.exports={profileContacts:"ProfileContacts_profileContacts__2iIrN",contactsSocial:"ProfileContacts_contactsSocial__1rvOI"}},298:function(e,t,r){e.exports={profileMainInfo:"ProfileAvatar_profileMainInfo__2wiB4",profileAvatar:"ProfileAvatar_profileAvatar__3rN8r",profileStatus:"ProfileAvatar_profileStatus__345zG",profileId:"ProfileAvatar_profileId__1zg-v",profileName:"ProfileAvatar_profileName__YYdT2",profileDesc:"ProfileAvatar_profileDesc__3thaw"}},299:function(e,t,r){e.exports={post:"Post_post__Yp48r"}},300:function(e,t,r){e.exports={inputWrap:"MyPosts_inputWrap__3Un3B",add:"MyPosts_add__2Sfc9",textarea:"MyPosts_textarea__TGCmf"}},303:function(e,t,r){"use strict";r.r(t);var o=r(3),n=r(27),a=r(84),c=r(29),s=r(28),i=r(1),l=r(0),u=r.n(l);var j=r(69);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,a=void 0;try{for(var c,s=e[Symbol.iterator]();!(o=(c=s.next()).done)&&(r.push(c.value),!t||r.length!==t);o=!0);}catch(i){n=!0,a=i}finally{try{o||null==s.return||s.return()}finally{if(n)throw a}}return r}}(e,t)||Object(j.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=r(62),f=r(296),d=r.n(f),h=r(297),O=r.n(h),m=function(e){var t=e.contacts,r=(Object(p.a)(e,["contacts"]),[]);for(var o in t)t[o]&&r.push(Object(i.jsx)("a",{href:"".concat(t[o]),children:o}));return r.length>0?Object(i.jsxs)("div",{className:O.a.profileContacts,children:[Object(i.jsx)("h2",{children:"Contacts"}),Object(i.jsx)("div",{className:O.a.contactsSocial,children:r})]}):""},x=r(252),v=r.n(x),_=function(e){var t=e.lookingForAJob,r=e.lookingForAJobDescription;Object(p.a)(e,["lookingForAJob","lookingForAJobDescription"]);return Object(i.jsxs)("div",{className:v.a.profileJob,children:[Object(i.jsx)("h2",{children:"Search for a job"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:t?"Looking for a job.":"Not looking for a job."}),r]})]})},g=r(298),P=r.n(g),y=r(18),N=r(20),A=r(64),k=function(e){var t=b(Object(l.useState)(!1),2),r=t[0],o=t[1],n=b(Object(l.useState)(e.status),2),a=n[0],c=n[1];Object(l.useEffect)((function(){c(e.status)}),[e.status]);return Object(i.jsx)("div",{children:r?Object(i.jsx)("div",{children:Object(i.jsx)("input",{autoFocus:!0,onChange:function(e){c(e.currentTarget.value)},value:a,onBlur:function(t){o(!1),e.updateStatus(a)},type:"text"})}):Object(i.jsx)("div",{children:Object(i.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status})})})},I={updateStatus:A.g},S=Object(y.d)(Object(N.b)((function(e){return{status:e.profilePage.status}}),I))(k),C=function(e){var t=e.photos,r=e.fullName,o=e.userId,n=e.isOwner,a=Object(p.a)(e,["photos","fullName","userId","isOwner"]);return Object(i.jsxs)("div",{className:P.a.profileMainInfo,children:[Object(i.jsx)("div",{className:P.a.profileAvatar,children:t.large?Object(i.jsx)("img",{src:t.large,alt:"avatar"}):t.small?Object(i.jsx)("img",{src:t.small,alt:"avatar"}):Object(i.jsx)("span",{children:r.substr(0,1).toUpperCase()})}),Object(i.jsx)("div",{children:n?Object(i.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files;t.length&&a.savePhoto(t[0])}}):""}),Object(i.jsxs)("div",{className:P.a.profileStatus,children:[Object(i.jsx)("div",{className:P.a.profileName,children:r}),Object(i.jsx)(S,{})]}),Object(i.jsx)("div",{className:P.a.profileId,children:o})]})},w=function(e){var t=e.aboutMe;Object(p.a)(e,["aboutMe"]);return t?Object(i.jsxs)("div",{className:v.a.profileJob,children:[Object(i.jsx)("h2",{children:"About me"}),Object(i.jsx)("p",{children:t})]}):""},F=r(112),M=r(113),J=r(230),D=r(231),U=Object(M.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,r=e.profile,o=e.error;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"FullName"}),Object(i.jsx)(F.a,{placeholder:"FullName",name:"fullName",validate:[D.b],component:J.a,type:"text"})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"About Me"}),Object(i.jsx)(F.a,{placeholder:"About me",name:"aboutMe",component:J.b})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"Looking for a job?"}),Object(i.jsx)(F.a,{name:"lookingForAJob",component:J.a,type:"checkbox"})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"Description for a looking job"}),Object(i.jsx)(F.a,{placeholder:"Description for a looking job",name:"lookingForAJobDescription",component:J.b})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Contacts"}),Object(i.jsx)("div",{children:Object.keys(r.contacts).map((function(e){return Object(i.jsxs)("label",{children:[Object(i.jsx)("strong",{children:e}),Object(i.jsx)(F.a,{name:"contacts.".concat(e),component:J.a,type:"text",placeholder:"https://".concat(e,"/")})]},e)}))})]})]}),o?Object(i.jsx)("div",{children:o}):"",Object(i.jsx)("button",{children:"Save changes"})]})})),z=function(e){var t=e.isOwner,r=e.profile,o=Object(p.a)(e,["isOwner","profile"]),n=b(Object(l.useState)(!1),2),a=n[0],c=n[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{className:d.a.headImg,src:"https://s23527.pcdn.co/wp-content/uploads/2020/01/100k-moon.jpg.optimal.jpg",alt:"planet"})}),a?Object(i.jsx)(U,{onSubmit:function(e){o.updateProfile(e).then((function(){return c(!1)}))},profile:r,initialValues:r}):Object(i.jsxs)("div",{className:d.a.profileUser,children:[Object(i.jsx)(C,{fullName:r.fullName,photos:r.photos,userId:r.userId,isOwner:t,savePhoto:o.savePhoto}),Object(i.jsx)(w,{aboutMe:r.aboutMe}),Object(i.jsx)(_,{lookingForAJob:r.lookingForAJob,lookingForAJobDescription:r.lookingForAJobDescription}),Object(i.jsx)(m,{contacts:r.contacts})]}),!a&&t?Object(i.jsx)("button",{onClick:function(){t&&c(!0)},children:"Edit profile"}):""]})},T=r(299),Y=r.n(T),B=function(e){var t=e.message,r=e.likesCount;return Object(i.jsxs)("div",{className:Y.a.post,children:[Object(i.jsx)("p",{children:t}),Object(i.jsx)("small",{children:"Like"}),Object(i.jsx)("small",{children:r})]})},E=r(300),L=r.n(E),W=Object(D.a)(300),G=u.a.memo((function(e){var t=e.addPost,r=e.profilePage.posts.map((function(e){return Object(i.jsx)(B,{message:e.post,likesCount:e.likesCount},e.id)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"My posts"}),Object(i.jsx)(V,{onSubmit:function(e){t(e.newPost)}}),Object(i.jsx)("div",{children:r})]})})),V=Object(M.a)({form:"postForm"})((function(e){return Object(i.jsxs)("form",{onSubmit:e.handleSubmit,className:L.a.inputWrap,children:[Object(i.jsx)(F.a,{component:J.b,name:"newPost",placeholder:"Type your post...",className:L.a.textarea,validate:[D.b,W]}),Object(i.jsx)("button",{className:L.a.add,children:"Add post"})]})})),q=G,H={addPost:A.a},R=Object(N.b)((function(e){return{profilePage:e.profilePage}}),H)(q),K=r(31),Q=function(e){return e.profile?Object(i.jsxs)("div",{children:[Object(i.jsx)(z,{isOwner:e.isOwner,profile:e.profile,savePhoto:e.savePhoto,updateProfile:e.updateProfile}),Object(i.jsx)(R,{})]}):Object(i.jsx)(K.a,{})},X=r(7),Z=r(239),$=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).refreshProfile=function(){var t=e.props.match.params.userId;t||(t=e.props.authorizedUserId)||e.props.history.push("/login"),e.props.getProfile(t),e.props.getUserStatus(t)},e.render=function(){return Object(i.jsx)(Q,Object(o.a)(Object(o.a)({isOwner:!e.props.match.params.userId},e.props),{},{savePhoto:e.props.savePhoto,updateProfile:e.props.updateProfile}))},e}return Object(a.a)(r,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}}]),r}(u.a.Component),ee={getProfile:A.c,getUserStatus:A.d,savePhoto:A.e,updateProfile:A.f};t.default=Object(y.d)(Object(N.b)((function(e){return{profile:e.profilePage.profile,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),ee),X.f,Z.a)($)}}]);
//# sourceMappingURL=4.036cd6b1.chunk.js.map