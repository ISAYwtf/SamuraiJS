{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/Users/Users.module.css","components/common/Pagination/Pagination.module.css","components/common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/Users/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","module","exports","PaginationItem","currentNumber","currentPage","pageSize","item","props","onClick","pageNumber","setCurrentPage","getUsers","onPageChanged","className","classes","paginationActive","Pagination","pagination","paginationWrap","totalItemsCount","pagesCount","Math","ceil","pages","push","paginationCounter","map","el","arr","createPagination","UserImage","img","name","userId","avatarImage","src","alt","substr","toUpperCase","UserAvatar","flag","user","userAvatar","photos","small","id","disabled","isFollowing","some","avatarButton","e","preventDefault","unFollowTo","followTo","checkFollowing","followed","UserInfo","userInfo","infoName","infoStatus","status","User","to","Users","usersWrap","Preloader","isFetching","users","getUsersState","state","usersPage","getPageSizeState","getTotalUsersCountState","totalUsersCount","getCurrentPageState","getIsFetchingState","getIsFollowingState","mapDispatchToProps","compose","connect","useEffect"],"mappings":"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","file":"static/js/5.1067453d.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrap\":\"Users_usersWrap__3ROVC\",\"user\":\"Users_user__3g3iR\",\"userInfo\":\"Users_userInfo__1CtqK\",\"userAvatar\":\"Users_userAvatar__rlNkT\",\"avatarImage\":\"Users_avatarImage__26QNH\",\"avatarButton\":\"Users_avatarButton__D5Hvs\",\"infoName\":\"Users_infoName__3aM2H\",\"infoStatus\":\"Users_infoStatus__2_bRa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1ZpTg\",\"paginationWrap\":\"Pagination_paginationWrap__3Cbzp\",\"paginationActive\":\"Pagination_paginationActive__14P1U\"};","import React from 'react';\r\nimport classes from './Pagination.module.css';\r\n\r\nconst onPageChanged = (pageNumber, pageSize, setCurrentPage, getUsers) => {\r\n    setCurrentPage(pageNumber);\r\n    getUsers(pageNumber, pageSize);\r\n}\r\n\r\nconst PaginationItem = ({currentNumber, currentPage, pageSize, item = null, ...props}) =>\r\n    <span onClick={() => onPageChanged(currentNumber, pageSize, props.setCurrentPage, props.getUsers)}\r\n          className={currentPage === currentNumber ? classes.paginationActive : \"\"}\r\n          key={currentNumber}>\r\n        {item ? item : currentNumber}\r\n    </span>\r\n\r\nconst Pagination = props => {\r\n\r\n    const createPagination = () => {\r\n        const {totalItemsCount, pageSize, currentPage, setCurrentPage, getUsers} = props;\r\n\r\n        const pagesCount = Math.ceil(totalItemsCount / pageSize); // Количество страниц\r\n        const pages = [];\r\n\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i); // Массив с числами для пагинатора\r\n        }\r\n\r\n        let pagination; // Пагинатор\r\n\r\n        if (pages.length > 20) { // Если страниц больше 20\r\n            let paginationCounter = 0; // Создаем счетчик для непоказанных чисел в пагинаторе\r\n\r\n            // Далее возвращаем в переменную пагинатора массив с обернутыми числами в разметку\r\n            pagination = pages.map((el, i, arr) => {\r\n\r\n                /* Если перебираемое число входит в первые или в последние три\r\n                * или является текущим элементом\r\n                * возвращаем элемент с числом */\r\n                if ((el >= 1 && el < 4) || (el > arr.length - 3 && el <= arr.length) || currentPage === el) {\r\n                    return <PaginationItem currentNumber={el} currentPage={currentPage} pageSize={pageSize}\r\n                                           setCurrentPage={setCurrentPage} getUsers={getUsers}/>\r\n\r\n                    /* Иначе если текущее число стоит рядом с текущим элементом\r\n                    * возвращаем стрелку влево или вправо, для клика на следующий элемент от текущего*/\r\n                } else if (el === currentPage - 1 || el === currentPage + 1) {\r\n                    if (el < currentPage) {\r\n                        return <PaginationItem currentNumber={el} currentPage={currentPage} pageSize={pageSize}\r\n                                               setCurrentPage={setCurrentPage} getUsers={getUsers} item={\"<\"}/>\r\n                    } else {\r\n                        return <PaginationItem currentNumber={el} currentPage={currentPage} pageSize={pageSize}\r\n                                               setCurrentPage={setCurrentPage} getUsers={getUsers} item={\">\"}/>\r\n                    }\r\n                } else {\r\n                    paginationCounter++; // Увеличиваем счетчик непоказанных чисел\r\n\r\n                    if (paginationCounter <= 100) { // Если непоказанных чисел меньше 100\r\n                        return \".\" // Показываем точку\r\n                    }\r\n                }\r\n            })\r\n\r\n            // Если страниц меньше 20, просто возвращаем массив обернутых в разметку чисел\r\n        } else {\r\n            pagination = pages.map(el => {\r\n                return <PaginationItem currentNumber={el} currentPage={currentPage} pageSize={pageSize}\r\n                                       setCurrentPage={setCurrentPage} getUsers={getUsers}/>\r\n            })\r\n        }\r\n\r\n        return pagination;\r\n    }\r\n\r\n    return <div className={classes.pagination}>\r\n        <div className={classes.paginationWrap}>\r\n            {createPagination()}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst UserImage = ({img, name, userId}) =>\r\n    <div className={classes.avatarImage}>\r\n        {img\r\n            ? <img src={img} alt=\"avatar\"/>\r\n            : name.substr(0, 1).toUpperCase()}\r\n    </div>\r\n\r\nconst UserAvatar = ({user, ...props}) => {\r\n    const followBtn = flag => flag ? \"Unfollow\" : \"Follow\";\r\n    const checkFollowing = (flag, id, e) => {\r\n        e.preventDefault();\r\n        return flag ? props.unFollowTo(id) : props.followTo(id);\r\n    };\r\n\r\n    return <div className={classes.userAvatar}>\r\n        <UserImage img={user.photos.small} name={user.name} userId={user.id}/>\r\n        <button disabled={props.isFollowing.some(id => id === user.id)}\r\n                className={classes.avatarButton}\r\n                onClick={e => checkFollowing(user.followed, user.id, e)}>\r\n            {followBtn(user.followed)}\r\n        </button>\r\n    </div>\r\n}\r\n\r\nconst UserInfo = ({user}) =>\r\n    <div className={classes.userInfo}>\r\n        <div className={classes.infoName}>{user.name}</div>\r\n        <div className={classes.infoStatus}>{user.status}</div>\r\n    </div>\r\n\r\nconst User = ({user, ...props}) =>\r\n    <NavLink to={`/profile/${user.id}`} className={classes.user}>\r\n        <UserAvatar user={user} unFollowTo={props.unFollowTo} followTo={props.followTo}\r\n                    isFollowing={props.isFollowing}/>\r\n        <UserInfo user={user}/>\r\n    </NavLink>\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport User from \"./User\";\r\n\r\nconst Users = props => {\r\n\r\n    return <div className={classes.usersWrap}>\r\n        <Preloader flag={props.isFetching}/>\r\n\r\n        {props.users.map(el => <User key={el.id} user={el} {...props}/>)}\r\n\r\n        <Pagination {...props}/>\r\n    </div>\r\n}\r\n\r\nexport default Users;\r\n","export const getUsersState = state => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSizeState = state => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCountState = state => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPageState = state => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetchingState = state => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getIsFollowingState = state => {\r\n    return state.usersPage.isFollowing\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {followTo, getUsers, setCurrentPage, unFollowTo} from '../../redux/Users/users-reducer';\r\nimport Users from './Users';\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPageState, getIsFetchingState, getIsFollowingState,\r\n    getPageSizeState,\r\n    getTotalUsersCountState,\r\n    getUsersState\r\n} from \"../../redux/Users/users-selectors\";\r\n\r\nconst UsersContainer = props => {\r\n    useEffect(() => {\r\n        const {currentPage, pageSize} = props\r\n        props.getUsers(currentPage, pageSize);\r\n    }, [props.currentPage])\r\n\r\n    return <Users {...props}/>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    users: getUsersState(state),\r\n    pageSize: getPageSizeState(state),\r\n    totalItemsCount: getTotalUsersCountState(state),\r\n    currentPage: getCurrentPageState(state),\r\n    isFetching: getIsFetchingState(state),\r\n    isFollowing: getIsFollowingState(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setCurrentPage,\r\n    getUsers,\r\n    unFollowTo,\r\n    followTo\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(UsersContainer);\r\n"],"sourceRoot":""}