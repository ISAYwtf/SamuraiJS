{"version":3,"sources":["components/common/FormControls/FormControls.js","utils/validators/validators.js","components/common/FormControls/FormControls.module.css","components/Login/Login.module.css","components/Login/Login.jsx"],"names":["FormControl","props","hasError","meta","error","touched","errorClass","classes","errorMessage","className","container","children","Textarea","input","placeholder","Input","attr","type","required","value","maxLengthCreator","maxLength","length","composeValidators","validators","reduce","validator","undefined","module","exports","LoginFormRedux","reduxForm","form","handleSubmit","captchaUrl","onSubmit","field","name","validate","component","rememberMe","captcha","src","mapDispatchToProps","login","connect","state","isAuth","getIsAuth","getAuthCaptcha","to","formTitle","formData","email","password"],"mappings":"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","file":"static/js/6.ff539938.chunk.js","sourcesContent":["import React from \"react\";\r\nimport classes from \"./FormControls.module.css\";\r\n\r\nconst FormControl = props => {\r\n    const hasError = props.meta.error && props.meta.touched;\r\n    const errorClass = hasError ? classes.error : \"\";\r\n    const errorMessage = hasError ? <small className={classes.errorMessage}>{props.meta.error}</small> : \"\";\r\n\r\n    return (\r\n        <div className={`${classes.container} ${props.className} ${errorClass}`}>\r\n            {props.children}\r\n            {errorMessage}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = props =>\r\n    <FormControl {...props}>\r\n        <textarea {...props.input} className={classes.input} placeholder={props.placeholder}/>\r\n    </FormControl>\r\n\r\nexport const Input = props =>\r\n    <FormControl {...props}>\r\n        <input {...props.input} className={classes.input} {...props.attr}\r\n               placeholder={props.placeholder || \"\"} type={props.type || \"text\"}/>\r\n    </FormControl>\r\n","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\nexport const composeValidators = (...validators) => value =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormControls_container__1O6pH\",\"input\":\"FormControls_input__1vNYD\",\"error\":\"FormControls_error__R3-iJ\",\"errorMessage\":\"FormControls_errorMessage__znvpV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formTitle\":\"Login_formTitle__2YcqO\",\"form\":\"Login_form__13Jmx\",\"field\":\"Login_field__1lrSK\",\"error\":\"Login_error__28wyR\",\"captcha\":\"Login_captcha__2og02\",\"rememberMe\":\"Login_rememberMe__3ztC7\"};","import React from \"react\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/Auth/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classes from \"./Login.module.css\";\r\nimport Button from \"../common/Button\";\r\nimport {reduxForm, Field} from \"redux-form\";\r\nimport {getAuthCaptcha, getIsAuth} from \"../../redux/Auth/auth-selectors\";\r\n\r\nconst LoginForm = ({handleSubmit, captchaUrl, error}) =>\r\n    <form className={classes.form} onSubmit={handleSubmit}>\r\n        <div className={classes.field}>\r\n            <Field placeholder={\"Email\"} name={\"email\"}\r\n                   validate={[required]} component={Input}/>\r\n        </div>\r\n        <div className={classes.field}>\r\n            <Field type=\"password\" placeholder={\"Password\"} name={\"password\"}\r\n                   validate={[required]}\r\n                   component={Input}/>\r\n        </div>\r\n        <label className={classes.rememberMe}>\r\n            <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/>\r\n            <p>Remember Me</p>\r\n        </label>\r\n        {captchaUrl\r\n            ? <div className={classes.captcha}>\r\n                <img src={captchaUrl}/>\r\n                <Field component={Input} placeholder={\"Input symbols from the image\"} name={\"captcha\"}/>\r\n            </div>\r\n            : \"\"}\r\n        {error\r\n            ? <div className={classes.error}>{error}</div>\r\n            : \"\"\r\n        }\r\n        <div>\r\n            <Button>Login</Button>\r\n        </div>\r\n    </form>\r\n\r\nconst LoginFormRedux = reduxForm({form: \"login\"})(LoginForm);\r\n\r\nconst Login = ({login, isAuth, captchaUrl}) => {\r\n    const submitData = formData => {\r\n        const {email, password, rememberMe, captcha} = formData;\r\n        login(email, password, rememberMe, captcha);\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"}/>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2 className={classes.formTitle}>Sign in</h2>\r\n            <LoginFormRedux onSubmit={submitData} captchaUrl={captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: getIsAuth(state),\r\n    captchaUrl: getAuthCaptcha(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    login\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"],"sourceRoot":""}