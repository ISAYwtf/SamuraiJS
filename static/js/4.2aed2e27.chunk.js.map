{"version":3,"sources":["utils/validators/validators.js","hoc/withAuthRedirect.jsx","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","redux/Dialogs/dialogs-selectors.js","components/Dialogs/DialogsContainer.jsx"],"names":["required","value","maxLengthCreator","maxLength","length","composeValidators","validators","reduce","error","validator","undefined","mapStateToPropsRedirect","state","isAuth","getIsAuth","withAuthRedirect","Component","RedirectComponent","render","props","to","React","connect","module","exports","DialogItem","name","id","activeClassName","classes","active","className","dialog","Message","factor","message","mine","right","left","maxLength300","AddMessageFormRedux","reduxForm","form","handleSubmit","inputs","onSubmit","Field","component","Input","placeholder","textarea","validate","Button","add","Dialogs","sendMessageTC","dialogsPage","dialogs","messages","dialogsElements","map","el","messagesElements","dialogsItems","title","dialogsList","messageList","values","messageBody","getDialogsPage","mapDispatchToProps","compose"],"mappings":"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","file":"static/js/4.2aed2e27.chunk.js","sourcesContent":["export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\nexport const composeValidators = (...validators) => value =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined);\r\n","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {getIsAuth} from \"../redux/Auth/auth-selectors\";\r\n\r\nconst mapStateToPropsRedirect = state => ({\r\n    isAuth: getIsAuth(state)\r\n})\r\n\r\nexport const withAuthRedirect = Component => {\r\n    class RedirectComponent extends React.Component {\r\n        render = () => {\r\n            return !this.props.isAuth\r\n                ? <Redirect to={'/login'}/>\r\n                : <Component {...this.props} />;\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsRedirect)(RedirectComponent);\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__2RgAD\",\"active\":\"DialogItem_active__2qoP1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__12L5C\",\"left\":\"Message_left__1HKDw\",\"right\":\"Message_right__1-Vt9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__XTLmz\",\"dialogsItems\":\"Dialogs_dialogsItems__nzZOP\",\"dialogsList\":\"Dialogs_dialogsList__2Ly4n\",\"title\":\"Dialogs_title__4fiJE\",\"messages\":\"Dialogs_messages__twfqX\",\"messageList\":\"Dialogs_messageList__1rNZN\",\"inputs\":\"Dialogs_inputs__2i4Zf\",\"textarea\":\"Dialogs_textarea__2LIt_\",\"add\":\"Dialogs_add__Ji_0I\"};","import {NavLink} from \"react-router-dom\";\r\nimport classes from \"./DialogItem.module.css\";\r\nimport React from \"react\";\r\n\r\nconst DialogItem = ({name, id}) => {\r\n    return (\r\n        <NavLink to={`/dialogs/${id}`} activeClassName={classes.active} className={classes.dialog}>{name}</NavLink>\r\n    )\r\n}\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport classes from \"./Message.module.css\";\r\n\r\nconst Message = ({message, mine}) => {\r\n    let styleMsg = (factor) => {\r\n        if (factor) return classes.right;\r\n\r\n        return classes.left;\r\n    }\r\n\r\n    return (\r\n        <div className={`${classes.message} ${styleMsg(mine)}`}>{message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\n\r\nimport classes from './Dialogs.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport Button from \"../common/Button\";\r\n\r\nconst maxLength300 = maxLengthCreator(300);\r\n\r\nconst Dialogs = ({sendMessageTC, dialogsPage}) => {\r\n    const {dialogs, messages} = dialogsPage;\r\n\r\n    const dialogsElements = dialogs.map(el => <DialogItem name={el.name} key={el.id} id={el.id}/>);\r\n    const messagesElements = messages.map(el => <Message id={el.id} mine={el.mine} key={el.id} message={el.message}/>);\r\n\r\n    const addNewMessage = values => {\r\n        sendMessageTC(values.messageBody);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.dialogs}>\r\n                <div className={classes.dialogsItems}>\r\n                    <h3 className={classes.title}>Dialogs</h3>\r\n                    <div className={classes.dialogsList}>{dialogsElements}</div>\r\n                </div>\r\n                <div className={classes.messages}>\r\n                    <h3 className={classes.title}>Messages</h3>\r\n                    <div className={classes.messageList}>{messagesElements}</div>\r\n                    <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst AddMessageForm = ({handleSubmit}) => {\r\n    return (\r\n        <form className={classes.inputs} onSubmit={handleSubmit}>\r\n            <Field component={Input} name={\"messageBody\"} placeholder={`Type your message...`}\r\n                   className={classes.textarea} validate={[required, maxLength300]}/>\r\n            <Button className={classes.add}>Send</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm);\r\n\r\nexport default Dialogs;\r\n","export const getDialogsPage = state => state.dialogsPage\r\n","import {sendMessageTC} from \"../../redux/Dialogs/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {getDialogsPage} from \"../../redux/Dialogs/dialogs-selectors\";\r\n\r\nconst mapStateToProps = state => ({dialogsPage: getDialogsPage(state)});\r\n\r\nconst mapDispatchToProps = {sendMessageTC};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);\r\n"],"sourceRoot":""}