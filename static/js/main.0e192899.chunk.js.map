{"version":3,"sources":["components/Users/Users.module.css","components/Navbar/Navbar.module.css","redux/sidebar-reducer.js","utils/object-helpers.js","redux/users-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/FriendsList/FriendsList.jsx","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","hoc/withSuspense.jsx","App.js","index.js","redux/auth-reducer.js","components/common/Preloader/Preloader.jsx","components/common/Pagination/Pagination.module.css","components/Navbar/FriendsList/FriendsList.module.css","components/Header/Header.module.css","components/common/Preloader/Preloader.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","api/api.js"],"names":["module","exports","initialState","friends","id","img","sidebarReducer","state","updateObjectInArray","items","itemId","objPropName","newObjProps","map","el","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING","users","pageSize","totalUsersCount","currentPage","isFetching","isFollowing","follow","userId","type","unFollow","setCurrentPage","toggleIsFetching","toggleIsFollowing","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","action","followed","totalCount","filter","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","auth","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","FriendsList","friendsElements","className","classes","item","src","title","itemList","FriendsListContainer","connect","Navbar","nav","to","activeClassName","active","Music","Settings","Pagination","props","totalItemsCount","onPageChanged","pagination","paginationWrap","pagesCount","Math","ceil","pages","i","push","length","paginationCounter","arr","onClick","paginationActive","createPagination","User","flag","name","user","userAvatar","avatarImage","photos","small","alt","substr","toUpperCase","disabled","some","avatarButton","unFollowTo","followTo","userInfo","infoMain","infoName","infoStatus","status","infoLocation","infoCountry","infoCity","Users","usersWrap","Preloader","getUsersState","createSelector","getPageSizeState","getTotalUsersCountState","getCurrentPageState","getIsFetchingState","getIsFollowingState","UsersContainer","pageNumber","getUsers","render","this","React","Component","mapDispatchToProps","page","usersAPI","data","bind","Header","isAuth","login","logout","header","loginInfo","HeaderContainer","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","Login","App","componentDidMount","initializeApp","path","getMe","Promise","all","then","AppContainer","withRouter","SamuraiJSApp","basename","process","ReactDOM","document","getElementById","SET_USER_DATA","email","setUserData","payload","authAPI","password","rememberMe","message","messages","stopSubmit","_error","preloaderWrap","preloaderPulse","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","posts","post","likesCount","profile","addPost","newPost","setStatus","getProfile","getUserStatus","profileAPI","getStatus","updateStatus","SEND_MESSAGE","dialogs","mine","sendMessage","newMessage","server","axios","withCredentials","headers","baseURL","get","response","delete","put"],"mappings":"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","file":"static/js/main.0e192899.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrap\":\"Users_usersWrap__3ROVC\",\"user\":\"Users_user__3g3iR\",\"userAvatar\":\"Users_userAvatar__rlNkT\",\"avatarImage\":\"Users_avatarImage__26QNH\",\"avatarButton\":\"Users_avatarButton__D5Hvs\",\"userInfo\":\"Users_userInfo__1CtqK\",\"infoMain\":\"Users_infoMain__30YnL\",\"infoLocation\":\"Users_infoLocation__38y-H\",\"infoName\":\"Users_infoName__3aM2H\",\"infoStatus\":\"Users_infoStatus__2_bRa\",\"infoCountry\":\"Users_infoCountry__34Kc6\",\"infoCity\":\"Users_infoCity__DL9W-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__Tt1MA\",\"item\":\"Navbar_item__1GDSe\",\"active\":\"Navbar_active__1ndrs\"};","const initialState = {\r\n    friends: [\r\n        {id: 1, img: 'https://s0.rbk.ru/v6_top_pics/media/img/8/22/755895443908228.jpg'},\r\n        {\r\n            id: 2,\r\n            img: 'https://www.moya-planeta.ru/upload/images/xl/19/a7/19a713c5edb6c69c5a0c31b875d732b3.jpg'\r\n        },\r\n        {id: 3, img: 'https://brammels.com/wp-content/uploads/2018/06/krasivye-lyudi-umnee.jpg'},\r\n        {id: 4, img: 'https://www.kino-teatr.ru/art/5823/82736.jpg'}\r\n    ]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(el => {\r\n        if (el[objPropName] === itemId) {\r\n            return {...el, ...newObjProps}\r\n        }\r\n        return el;\r\n    })\r\n}\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING = 'TOGGLE-IS-FOLLOWING';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isFollowing: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING:\r\n            return {\r\n                ...state, isFollowing: action.isFollowing\r\n                    ? [...state.isFollowing, action.userId]\r\n                    : state.isFollowing.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const follow = userId => ({type: FOLLOW, userId});\r\nexport const unFollow = userId => ({type: UNFOLLOW, userId});\r\nexport const setUsers = users => ({type: SET_USERS, users});\r\nexport const setCurrentPage = currentPage => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = totalCount => ({type: SET_TOTAL_COUNT, totalCount});\r\nexport const toggleIsFetching = isFetching => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleIsFollowing = (isFollowing, userId) => ({type: TOGGLE_IS_FOLLOWING, isFollowing, userId});\r\n\r\nexport const getUsers = (page, pageSize) => async dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n    const data = await usersAPI.getUsers(page, pageSize)\r\n\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowing(true));\r\n\r\n    const data = await apiMethod(userId)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowing(false, userId));\r\n}\r\n\r\nexport const unFollowTo = userId => async dispatch => {\r\n    const apiMethod = usersAPI.unFollowTo.bind(usersAPI);\r\n    const actionCreator = unFollow;\r\n\r\n    await followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n}\r\n\r\nexport const followTo = userId => async dispatch => {\r\n    const apiMethod = usersAPI.followTo.bind(usersAPI);\r\n    const actionCreator = follow;\r\n\r\n    await followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n}\r\n\r\nexport default usersReducer;\r\n","import {getMe} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\r\n\r\nconst initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS\r\n});\r\n\r\nexport const initializeApp = () => dispatch => {\r\n    const initialized = dispatch(getMe());\r\n\r\n    Promise.all([initialized])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\nexport default appReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import classes from './FriendsList.module.css';\r\n\r\nconst FriendsList = ({friends}) => {\r\n    const friendsElements = friends.map(el => <div className={classes.item} key={el.id}>\r\n        <img src={el.img}/>\r\n    </div>);\r\n\r\n    return (\r\n        <div className={classes.friends}>\r\n            <h3 className={classes.title}>Friends</h3>\r\n            <div className={classes.itemList}>\r\n                {friendsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendsList;\r\n","import React from \"react\";\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsList from \"./FriendsList/FriendsList\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    friends: state.sidebar.friends\r\n})\r\n\r\nconst FriendsListContainer = connect(mapStateToProps)(FriendsList);\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <NavLink to={`/profile`} activeClassName={classes.active} className={classes.item}>\r\n                Profile\r\n            </NavLink>\r\n            <NavLink to={`/dialogs`} activeClassName={classes.active} className={classes.item}>\r\n                Messages\r\n            </NavLink>\r\n            <NavLink to={`/users`} activeClassName={classes.active} className={classes.item}>\r\n                Users\r\n            </NavLink>\r\n            <NavLink to={`/music`} activeClassName={classes.active} className={classes.item}>\r\n                Music\r\n            </NavLink>\r\n            <NavLink to={`/settings`} activeClassName={classes.active} className={classes.item}>\r\n                Settings\r\n            </NavLink>\r\n            <FriendsListContainer />\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport classes from './Pagination.module.css';\r\n\r\nconst Pagination = (props) => {\r\n    const {totalItemsCount, pageSize, currentPage, onPageChanged} = props;\r\n\r\n    const createPagination = () => {\r\n        const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n        const pages = [];\r\n\r\n        let pagination;\r\n\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i);\r\n        }\r\n\r\n        if (pages.length > 20) {\r\n            let paginationCounter = 0;\r\n\r\n            pagination = pages.map((el, i, arr) => {\r\n                if ((el >= 1 && el < 4) || (el > arr.length - 3 && el <= arr.length)) {\r\n\r\n                    return <span onClick={() => onPageChanged(el)}\r\n                                 className={currentPage === el ? classes.paginationActive : \"\"}\r\n                                 key={el}>{el}</span>\r\n\r\n                } else if (currentPage === el) {\r\n\r\n                    return <span onClick={() => onPageChanged(el)}\r\n                                 className={classes.paginationActive} key={el}>{el}</span>\r\n\r\n                } else if (el === currentPage - 1 || el === currentPage + 1) {\r\n\r\n                    if (el < currentPage) {\r\n                        return <span onClick={() => onPageChanged(el)} key={el}>{\"<\"}</span>\r\n                    } else {\r\n                        return <span onClick={() => onPageChanged(el)} key={el}>{\">\"}</span>\r\n                    }\r\n\r\n                } else {\r\n                    paginationCounter++;\r\n\r\n                    if (paginationCounter <= 100) {\r\n                            return \".\"\r\n                    }\r\n                }\r\n            })\r\n        } else {\r\n            pagination = pages.map(el => {\r\n                return <span onClick={() => onPageChanged(el)}\r\n                             className={currentPage === el ? classes.paginationActive : \"\"}>{el}</span>\r\n            })\r\n        }\r\n\r\n        return pagination;\r\n    }\r\n\r\n    return <div className={classes.pagination}>\r\n        <div className={classes.paginationWrap}>\r\n            {createPagination()}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, ...props}) => {\r\n    const followBtn = flag => flag ? \"Unfollow\" : \"Follow\";\r\n    const checkFollowing = (flag, id) => flag ? props.unFollowTo(id) : props.followTo(id);\r\n\r\n    const checkImage = (img, name) => {\r\n        return img\r\n            ? <img src={img} alt=\"avatar\"/>\r\n            : name.substr(0, 1).toUpperCase();\r\n    };\r\n\r\n    return (\r\n        <div className={classes.user} key={user.id}>\r\n            <div className={classes.userAvatar}>\r\n                <NavLink to={`/profile/${user.id}`} className={classes.avatarImage}>\r\n                    {checkImage(user.photos.small, user.name)}\r\n                </NavLink>\r\n                <button disabled={props.isFollowing.some(id => id === user.id)}\r\n                        className={classes.avatarButton}\r\n                        onClick={() => checkFollowing(user.followed, user.id)}>\r\n                    {followBtn(user.followed)}\r\n                </button>\r\n            </div>\r\n            <NavLink to={`/profile/${user.id}`} className={classes.userInfo}>\r\n                <div className={classes.infoMain}>\r\n                    <div className={classes.infoName}>{user.name}</div>\r\n                    <div className={classes.infoStatus}>{user.status}</div>\r\n                </div>\r\n                <div className={classes.infoLocation}>\r\n                    <div className={classes.infoCountry}>{'user.location.country'}</div>\r\n                    <div className={classes.infoCity}>{'user.location.city'}</div>\r\n                </div>\r\n            </NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport User from \"./User\";\r\n\r\nconst Users = (props) => {\r\n    const getPreloader = (flag) => flag ? <Preloader/> : null\r\n\r\n    return <div className={classes.usersWrap}>\r\n        {getPreloader(props.isFetching)}\r\n\r\n        {props.users.map(el => <User key={el.id} user={el} {...props}/>)}\r\n\r\n        <Pagination {...props}/>\r\n    </div>\r\n}\r\n\r\nexport default Users;\r\n","import {createSelector} from \"reselect\";\r\n\r\nconst getUsers = state => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersState = createSelector(getUsers,\r\n    users => {\r\n        return users.filter(el => true)\r\n    })\r\n\r\nexport const getPageSizeState = state => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCountState = state => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPageState = state => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetchingState = state => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getIsFollowingState = state => {\r\n    return state.usersPage.isFollowing\r\n}\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {followTo, getUsers, setCurrentPage, unFollowTo} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPageState, getIsFetchingState, getIsFollowingState,\r\n    getPageSizeState,\r\n    getTotalUsersCountState,\r\n    getUsersState\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = pageNumber => {\r\n        const {pageSize} = this.props;\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render = () => {\r\n        const {\r\n            totalUsersCount,\r\n            pageSize,\r\n            users,\r\n            unFollowTo,\r\n            followTo,\r\n            currentPage,\r\n            isFetching,\r\n            isFollowing\r\n        } = this.props;\r\n        return <>\r\n            <Users totalItemsCount={totalUsersCount} pageSize={pageSize}\r\n                   users={users} unFollowTo={unFollowTo} followTo={followTo}\r\n                   currentPage={currentPage} onPageChanged={this.onPageChanged}\r\n                   isFetching={isFetching} isFollowing={isFollowing}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    users: getUsersState(state),\r\n    pageSize: getPageSizeState(state),\r\n    totalUsersCount: getTotalUsersCountState(state),\r\n    currentPage: getCurrentPageState(state),\r\n    isFetching: getIsFetchingState(state),\r\n    isFollowing: getIsFollowingState(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setCurrentPage,\r\n    getUsers,\r\n    unFollowTo,\r\n    followTo\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(UsersContainer);\r\n","import React from \"react\";\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = ({isAuth, login, logout}) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img src=\"https://www.freelogodesign.org/Content/img/logo-ex-7.png\" alt=\"logo\"/>\r\n            <div className={classes.login}>\r\n                {isAuth\r\n                    ? <div>\r\n                        <p className={classes.loginInfo}>{login}</p>\r\n                        <button onClick={logout}>Log Out</button>\r\n                </div>\r\n                    : <NavLink className={classes.loginInfo} to={`/login`}>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render = () => <Header {...this.props} />\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    const {isAuth, login} = state.auth;\r\n    return {isAuth, login}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\r\n","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = Component =>\r\n    props =>\r\n        <Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n","import React from \"react\";\r\nimport {BrowserRouter, HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport './App.css';\r\nimport store from \"./redux/redux-store\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount = () => this.props.initializeApp();\r\n\r\n    render = () => {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className={`app-wrapper-content`}>\r\n\r\n                    <Route path={`/dialogs`}\r\n                           render={withSuspense(DialogsContainer)}/>\r\n                    <Route path={`/profile/:userId?`}\r\n                           render={withSuspense(ProfileContainer)}/>\r\n                    <Route path={`/users`} render={() => <UsersContainer/>}/>\r\n                    <Route path={`/music`} render={() => <Music/>}/>\r\n                    <Route path={`/settings`} render={() => <Settings/>}/>\r\n                    <Route path={`/login`} render={withSuspense(Login)}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    initializeApp\r\n}\r\n\r\nconst AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(App);\r\n\r\nconst SamuraiJSApp = props => {\r\n    return <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>;\r\n}\r\n\r\nexport default SamuraiJSApp;\r\n","import React from 'react';\r\nimport './index.css';\r\nimport ReactDOM from \"react-dom\";\r\nimport SamuraiJSApp from \"./App\";\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET-USER-DATA';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getMe = () => async dispatch => {\r\n    const data = await authAPI.getMe();\r\n\r\n    if (data.resultCode === 0) {\r\n        let {id, login, email} = data.data;\r\n        dispatch(setUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async dispatch => {\r\n    const data = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(getMe());\r\n    } else {\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Email or password are incorrect.\";\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n    const data = await authAPI.logout()\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport classes from \"./Preloader.module.css\";\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <section className={classes.preloaderWrap}>\r\n            <div className={classes.preloaderPulse}></div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1ZpTg\",\"paginationWrap\":\"Pagination_paginationWrap__3Cbzp\",\"paginationActive\":\"Pagination_paginationActive__14P1U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"FriendsList_friends__3zf9I\",\"title\":\"FriendsList_title__2y_nZ\",\"itemList\":\"FriendsList_itemList__3A17Z\",\"item\":\"FriendsList_item__2MbUv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2gpML\",\"login\":\"Header_login__37Er4\",\"loginInfo\":\"Header_loginInfo__1DXwF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderWrap\":\"Preloader_preloaderWrap__3ydVF\",\"preloaderPulse\":\"Preloader_preloaderPulse__3Q7Dq\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, post: 'Hi how are you', likesCount: 15},\r\n    ],\r\n    status: null,\r\n    profile: null\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost = {\r\n                id: 3,\r\n                post: action.newPost,\r\n                likesCount: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {...newPost}],\r\n            };\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(el => el.id !== action.post),\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = newPost => ({type: ADD_POST, newPost});\r\nexport const deletePost = post => ({type: DELETE_POST, post});\r\nexport const setUserProfile = profile => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = status => ({type: SET_STATUS, status});\r\n\r\nexport const getProfile = userId => async dispatch => {\r\n    const data = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(data));\r\n};\r\n\r\nexport const getUserStatus = userId => async dispatch => {\r\n    const data = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(data));\r\n};\r\n\r\nexport const updateStatus = status => async dispatch => {\r\n    const data = await profileAPI.updateStatus(status);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dmitriy'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Svetlana'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Viktor'},\r\n        {id: 6, name: 'Valeriy'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi', mine: false},\r\n        {id: 2, message: 'How are you', mine: false},\r\n        {id: 3, message: 'Yo', mine: false},\r\n        {id: 4, message: 'Yo', mine: true},\r\n        {id: 5, message: 'My friend', mine: true},\r\n        {id: 6, message: `It's a new cool chat, dude!`, mine: true},\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const newMessage = {\r\n                id: 7,\r\n                message: action.message,\r\n                mine: true\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {...newMessage}],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (message) => ({\r\n    type: SEND_MESSAGE,\r\n    message\r\n});\r\n\r\nexport default dialogsReducer;\r\n","import * as axios from \"axios\";\r\n\r\nconst server = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"eed101de-783b-4107-bd06-6b28cf0259ec\"\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 5) {\r\n        return server.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    followTo(id) {\r\n        return server.post(`follow/${id}`)\r\n            .then(response => response.data);\r\n    },\r\n    unFollowTo(id) {\r\n        return server.delete(`follow/${id}`)\r\n            .then(response => response.data);\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return server.get(`profile/${userId}`).then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return server.get(`profile/status/${userId}`).then(response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return server.put(`profile/status`, {status}).then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getMe() {\r\n        return server.get(`auth/me/`, {\r\n            withCredentials: true\r\n        }).then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return server.post(`auth/login/`,\r\n            {email, password, rememberMe},\r\n            {\r\n                withCredentials: true\r\n            }).then(response => response.data);\r\n    },\r\n    logout() {\r\n        return server.delete(`auth/login/`).then(response => response.data);\r\n    }\r\n}\r\n"],"sourceRoot":""}