(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{233:function(e,t,o){"use strict";o.d(t,"b",(function(){return s})),o.d(t,"a",(function(){return l}));var n=o(3),r=o(1),a=(o(0),o(234)),c=o.n(a),i=function(e){var t=e.meta.error&&e.meta.touched,o=t?c.a.error:"",n=t&&e.meta.active?Object(r.jsx)("small",{className:c.a.errorMessage,children:e.meta.error}):"";return Object(r.jsxs)("div",{className:"".concat(c.a.container," ").concat(e.className," ").concat(o),children:[e.children,n]})},s=function(e){return Object(r.jsx)(i,Object(n.a)(Object(n.a)({},e),{},{children:Object(r.jsx)("textarea",Object(n.a)(Object(n.a)({},e.input),{},{className:c.a.input,placeholder:e.placeholder}))}))},l=function(e){var t=e.type||e.input.type||"text",o=e.placeholder||e.input.placeholder||"";return Object(r.jsx)(i,Object(n.a)(Object(n.a)({},e),{},{children:Object(r.jsx)("input",Object(n.a)(Object(n.a)(Object(n.a)({},e.input),{},{className:"".concat(c.a.input," ").concat(e.className)},e.attr),{},{placeholder:o,type:t}))}))}},234:function(e,t,o){e.exports={container:"FormControls_container__2sQsd",input:"FormControls_input__2T87e",error:"FormControls_error__IMw-7",errorMessage:"FormControls_errorMessage__3MzwF"}},235:function(e,t,o){"use strict";o.d(t,"c",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return a}));var n=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){return t.reduce((function(t,o){return t||o(e)}),void 0)}}},237:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o(3),r=o(1),a=(o(0),o(7)),c=o(17),i=o(46),s=function(e){return{isAuth:Object(i.d)(e)}},l=function(e){return Object(c.b)(s)((function(t){return t.isAuth?Object(r.jsx)(e,Object(n.a)({},t)):Object(r.jsx)(a.a,{to:"/login"})}))}},239:function(e,t,o){e.exports={profileUser:"ProfileInfo_profileUser__2YvYc",profileInfoBlock:"ProfileInfo_profileInfoBlock__3Vdxj"}},302:function(e,t,o){e.exports={profileMainInfo:"ProfileMainInfo_profileMainInfo__3GJ28",profileAvatar:"ProfileMainInfo_profileAvatar__16ktD",profileStatus:"ProfileMainInfo_profileStatus__3F8-y",profileId:"ProfileMainInfo_profileId__1aZbX",profileName:"ProfileMainInfo_profileName__ztTiL",profileDesc:"ProfileMainInfo_profileDesc__2R0qa",selectImgBtn:"ProfileMainInfo_selectImgBtn__344dV",button:"ProfileMainInfo_button__16o68",profileNameWrap:"ProfileMainInfo_profileNameWrap__d_o8i"}},303:function(e,t,o){e.exports={profileImageWrap:"ProfileAvatar_profileImageWrap__1T2jp",profileImage:"ProfileAvatar_profileImage__3bXEp",imgName:"ProfileAvatar_imgName__1LAWW"}},304:function(e,t,o){e.exports={post:"Post_post__tY-O5",likes:"Post_likes__3lky2"}},305:function(e,t,o){e.exports={inputWrap:"Posts_inputWrap__385G8",textarea:"Posts_textarea__g5oAl",addPostBtn:"Posts_addPostBtn__z2Tgr"}},306:function(e,t,o){e.exports={form:"ProfileDataForm_form__37oul",contactItem:"ProfileDataForm_contactItem__1nnVb",contactItemTitle:"ProfileDataForm_contactItemTitle__3Fk_H",lookingForAJob:"ProfileDataForm_lookingForAJob__2dj0R",lookingForAJobCheckbox:"ProfileDataForm_lookingForAJobCheckbox__3xfOA"}},307:function(e,t,o){e.exports={buttonEditMode:"Profile_buttonEditMode__2UZ0u"}},315:function(e,t,o){"use strict";o.r(t);var n=o(3),r=o(5),a=o.n(r),c=o(9),i=o(1),s=o(0),l=o.n(s),j=o(240),u=o(35),b=o(239),f=o.n(b),d=function(e){var t=e.contacts,o=(Object(u.a)(e,["contacts"]),[]);for(var n in t)t[n]&&o.push(Object(i.jsx)("a",{href:"".concat(t[n]),children:n}));return o.length>0?Object(i.jsxs)("div",{className:f.a.profileInfoBlock,children:[Object(i.jsx)("h2",{children:"Contacts"}),Object(i.jsx)("div",{children:o})]}):""},p=function(e){var t=e.lookingForAJob,o=e.lookingForAJobDescription;Object(u.a)(e,["lookingForAJob","lookingForAJobDescription"]);return Object(i.jsxs)("div",{className:f.a.profileInfoBlock,children:[Object(i.jsx)("h2",{children:"Search for a job"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:t?"Looking for a job.":"Not looking for a job."}),o]})]})},m=o(302),O=o.n(m),h=o(11),x=o(17),_=o(63),g=o(259),v=o(233),N=function(e){return Object(i.jsx)(g.b,{initialValues:e.initialValues,onSubmit:e.deactivateEditMode,children:function(e){var t=e.handleSubmit,o=t,n={autoFocus:!0,onBlur:function(e){return o(e)}};return Object(i.jsx)("form",{onSubmit:t,children:Object(i.jsx)(g.a,{component:v.a,name:"status",attr:n,type:"text"})})}})},I=function(e){var t=!e.match.params.userId,o=Object(s.useState)(!1),n=Object(j.a)(o,2),r=n[0],a=n[1];return Object(i.jsx)("div",{children:r?Object(i.jsx)(N,{initialValues:{status:e.status},deactivateEditMode:function(t){a(!1),e.updateStatus(t.status)}}):t?Object(i.jsx)("div",{children:Object(i.jsx)("span",{onDoubleClick:function(){t&&a(!0)},children:e.status})}):Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:e.status})})})},P=o(7),k=function(e){return e.profilePage},F=function(e){return e.profilePage.profile},A=function(e){return e.profilePage.isFetching},M=function(e){return e.profilePage.status},S={updateStatus:_.h},w=Object(h.d)(Object(x.b)((function(e){return{status:M(e)}}),S),P.g)(I),y=o(303),J=o.n(y),C=function(e){var t,o=e.photos,n=e.fullName;return t=o.large?Object(i.jsx)("img",{className:J.a.profileImage,src:o.large,alt:"avatar"}):o.small?Object(i.jsx)("img",{className:J.a.profileImage,src:o.small,alt:"avatar"}):Object(i.jsx)("span",{className:J.a.imgName,children:n.substr(0,1).toUpperCase()}),Object(i.jsx)("div",{className:J.a.profileImageWrap,children:t})},D=function(e){var t=e.isOwner,o=e.savePhoto,n="Select your image";return t?Object(i.jsxs)("label",{className:O.a.selectImgBtn,children:[Object(i.jsx)("span",{className:O.a.button,children:n}),Object(i.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files;t.length&&(o(t[0]),n=t[0])}})]}):""},B=function(e){var t=e.photos,o=e.fullName,n=e.userId,r=e.isOwner,a=Object(u.a)(e,["photos","fullName","userId","isOwner"]);return Object(i.jsxs)("div",{className:O.a.profileMainInfo,children:[Object(i.jsxs)("div",{className:O.a.profileAvatar,children:[Object(i.jsx)(C,{photos:t,fullName:o}),Object(i.jsx)(D,{isOwner:r,savePhoto:a.savePhoto})]}),Object(i.jsxs)("div",{className:O.a.profileNameWrap,children:[Object(i.jsxs)("div",{className:O.a.profileStatus,children:[Object(i.jsx)("div",{className:O.a.profileName,children:o}),Object(i.jsx)(w,{})]}),Object(i.jsx)("div",{className:O.a.profileId,children:n})]})]})},W=function(e){var t=e.aboutMe;Object(u.a)(e,["aboutMe"]);return t?Object(i.jsxs)("div",{className:f.a.profileInfoBlock,children:[Object(i.jsx)("h2",{children:"About me"}),Object(i.jsx)("p",{children:t})]}):""},T=function(e){var t=e.isOwner,o=e.profile,n=Object(u.a)(e,["isOwner","profile"]);return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:f.a.profileUser,children:[Object(i.jsx)(B,{fullName:o.fullName,photos:o.photos,userId:o.userId,isOwner:t,savePhoto:n.savePhoto}),Object(i.jsx)(W,{aboutMe:o.aboutMe}),Object(i.jsx)(p,{lookingForAJob:o.lookingForAJob,lookingForAJobDescription:o.lookingForAJobDescription}),Object(i.jsx)(d,{contacts:o.contacts})]})})},U=o(304),V=o.n(U),E=function(e){var t=e.message,o=e.likesCount;return Object(i.jsxs)("div",{className:V.a.post,children:[Object(i.jsx)("p",{children:t}),Object(i.jsxs)("div",{className:V.a.likes,children:[Object(i.jsx)("small",{children:"Like"}),Object(i.jsx)("small",{children:o})]})]})},z=o(305),L=o.n(z),Y=o(114),q=o(115),G=o(235),R=o(61),X=Object(G.b)(300),Z=l.a.memo((function(e){var t=e.addPostTC,o=e.profilePage.posts.map((function(e){return Object(i.jsx)(E,{message:e.post,likesCount:e.likesCount},e.id)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"My posts"}),Object(i.jsx)(H,{onSubmit:function(e){t(e.newPost)}}),Object(i.jsx)("div",{children:o})]})})),H=Object(q.a)({form:"postForm"})((function(e){return Object(i.jsxs)("form",{onSubmit:e.handleSubmit,className:L.a.inputWrap,children:[Object(i.jsx)(Y.a,{component:v.b,name:"newPost",placeholder:"Type your post...",className:L.a.textarea,validate:[G.c,X]}),Object(i.jsx)(R.a,{className:L.a.addPostBtn,children:"Add post"})]})})),Q=Z,K={addPostTC:_.a},$=Object(x.b)((function(e){return{profilePage:k(e)}}),K)(Q),ee=o(36),te=o(306),oe=o.n(te),ne=function(e){return Object(i.jsx)(g.b,{onSubmit:e.onSubmit,initialValues:e.initialValues,profile:e.profile,children:function(e){var t=e.handleSubmit,o=e.profile,n=e.error;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsxs)("div",{className:oe.a.form,children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"FullName"}),Object(i.jsx)(g.a,{placeholder:"FullName",name:"fullName",validate:Object(G.a)(G.c),component:v.a,type:"text"})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h2",{children:"About Me"}),Object(i.jsx)(g.a,{placeholder:"About me",name:"aboutMe",component:v.b})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:oe.a.lookingForAJob,children:[Object(i.jsxs)("label",{className:oe.a.lookingForAJobCheckbox,children:[Object(i.jsx)("h2",{children:"Looking for a job?"}),Object(i.jsx)(g.a,{name:"lookingForAJob",component:v.a,type:"checkbox"})]}),Object(i.jsx)("label",{htmlFor:"lookingForAJobDescription",children:Object(i.jsx)("h2",{children:"Description for a looking job"})})]}),Object(i.jsx)(g.a,{placeholder:"Description for a looking job",name:"lookingForAJobDescription",component:v.b,id:"lookingForAJobDescription"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Contacts"}),Object(i.jsx)("div",{children:Object.keys(o.contacts).map((function(e){return Object(i.jsxs)("label",{className:oe.a.contactItem,children:[Object(i.jsx)("strong",{className:oe.a.contactItemTitle,children:e}),Object(i.jsx)(g.a,{name:"contacts.".concat(e),component:v.a,type:"text",placeholder:"https://".concat(e,"/")})]},e)}))})]})]}),n?Object(i.jsx)("div",{children:n}):"",Object(i.jsx)(R.a,{children:"Save changes"})]})}})},re=o(307),ae=o.n(re),ce=function(e){var t=e.isOwner,o=e.profile,n=Object(u.a)(e,["isOwner","profile"]),r=Object(s.useState)(!1),a=Object(j.a)(r,2),c=a[0],l=a[1];return o?Object(i.jsxs)("div",{className:"component--wrap",children:[c?Object(i.jsx)(ne,{onSubmit:function(e){n.updateProfile(e).then((function(){return l(!1)}))},profile:o,initialValues:o}):Object(i.jsx)(T,{isOwner:t,profile:o,savePhoto:n.savePhoto,updateProfile:n.updateProfile}),!c&&t?Object(i.jsx)(R.a,{className:ae.a.buttonEditMode,attr:{onClick:function(){t&&l(!0)}},children:"Edit profile"}):"",Object(i.jsx)($,{})]}):Object(i.jsx)(ee.a,{})},ie=o(237),se=o(46),le=function(){var e=Object(c.a)(a.a.mark((function e(t,o,n,r,c){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t)||(i=o)||c.push("/login"),e.next=4,n(i);case 4:r(i);case 5:case"end":return e.stop()}}),e)})));return function(t,o,n,r,a){return e.apply(this,arguments)}}(),je={getProfile:_.c,getUserStatus:_.d,savePhoto:_.e,updateProfile:_.g,toggleIsFetching:_.f};t.default=Object(h.d)(Object(x.b)((function(e){return{profile:F(e),authorizedUserId:Object(se.c)(e),isAuth:Object(se.d)(e),isFetching:A(e)}}),je),P.g,ie.a)((function(e){var t=e.match,o=e.authorizedUserId,r=e.getProfile,a=e.getUserStatus;return Object(s.useEffect)((function(){e.toggleIsFetching(!0),le(t.params.userId,o,r,a,e.history).then((function(t){return e.toggleIsFetching(!1)}))}),[t.params.userId]),e.isFetching?Object(i.jsx)(ee.a,{flag:e.isFetching}):Object(i.jsx)(ce,Object(n.a)({isOwner:!t.params.userId},e))}))}}]);
//# sourceMappingURL=4.262cb68c.chunk.js.map